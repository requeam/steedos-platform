function module(i,t,a){"use strict";var n=i("../core/component_registrator"),e=i("../events/core/events_engine"),o=i("../core/utils/common").grep,r=i("../core/utils/extend").extend,s=i("../core/utils/iterator"),u=i("./validation/validation_mixin"),l=i("./validation_engine"),d=i("./collection/ui.collection_widget.edit"),c="dx-validationsummary",m="dx-validationsummary-item",p="dx-validationsummary-item-data",v=d.inherit({_getDefaultOptions:function(){return r(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference:function(){this.callBase(),r(this._optionsByReference,{validationGroup:!0})},_init:function(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration:function(){var i=this._findGroup(),t=l.addGroup(i);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=i,this.groupSubscription=this._groupValidationHandler.bind(this),t.on("validated",this.groupSubscription)},_unsubscribeGroup:function(){var i=l.getGroupConfig(this._validationGroup);i&&i.off("validated",this.groupSubscription)},_getOrderedItems:function(i,t){var a=[];return s.each(i,(function(i,n){var e=o(t,(function(i){if(i.validator===n)return!0}))[0];e&&a.push(e)})),a},_groupValidationHandler:function(i){var t=this,a=t._getOrderedItems(i.validators,s.map(i.brokenRules,(function(i){return{text:i.message,validator:i.validator}})));t.validators=i.validators,s.each(t.validators,(function(i,a){if(a._validationSummary!==this){var n=t._itemValidationHandler.bind(t),e=function(){a.off("validated",n),a._validationSummary=null,n=null};a.on("validated",n),a.on("disposing",e),a._validationSummary=this}})),t.option("items",a)},_itemValidationHandler:function(i){var t,a=this.option("items"),n=i.isValid,e=!1,o=i.brokenRule&&i.brokenRule.message,r=i.validator;s.each(a,(function(i,a){if(a.validator===r)return n?t=i:a.text=o,e=!0,!1})),n^e||(n?a.splice(t,1):a.push({text:o,validator:r}),a=this._getOrderedItems(this.validators,a),this.option("items",a))},_initMarkup:function(){this.$element().addClass("dx-validationsummary"),this.callBase()},_optionChanged:function(i){switch(i.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(i)}},_itemClass:function(){return m},_itemDataKey:function(){return p},_postprocessRenderItem:function(i){e.on(i.itemElement,"click",(function(){i.itemData.validator&&i.itemData.validator.focus&&i.itemData.validator.focus()}))},_dispose:function(){this.callBase(),this._unsubscribeGroup()}}).include(u);n("dxValidationSummary",v),a.exports=v,a.exports.default=a.exports}

