function module(t,e,o){"use strict";var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),i=function t(e,o,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,o);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,o,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},r,a=f(t("../../core/renderer")),s=t("../../core/utils/common"),l=t("../../core/utils/dom"),u=t("../../animation/position"),p=t("../../core/utils/extend"),c,h=f(t("../context_menu"));function f(t){return t&&t.__esModule?t:{default:t}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m="dx-context-menu-content-delimiter",v="dx-submenu",b=function(t){function e(){return _(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),n(e,[{key:"_getDefaultOptions",value:function(){return(0,p.extend)(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_getDefaultOptions",this).call(this),{orientation:"horizontal",tabIndex:null,onHoverStart:s.noop})}},{key:"_initDataAdapter",value:function(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initDataAdapter",this).call(this)}},{key:"_renderContentImpl",value:function(){this._renderContextMenuOverlay(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_renderContentImpl",this).call(this);var t=this._dataAdapter.getNodeByKey(this.option("_parentKey"));t&&this._renderItems(this._getChildNodes(t)),this._renderDelimiter()}},{key:"_renderDelimiter",value:function(){this.$contentDelimiter=(0,a.default)("<div>").appendTo(this._itemContainer()).addClass("dx-context-menu-content-delimiter")}},{key:"_getOverlayOptions",value:function(){return(0,p.extend)(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_getOverlayOptions",this).call(this),{onPositioned:this._overlayPositionedActionHandler.bind(this)})}},{key:"_overlayPositionedActionHandler",value:function(t){this._showDelimiter(t)}},{key:"_hoverEndHandler",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_hoverEndHandler",this).call(this,t),this._toggleFocusClass(!1,t.currentTarget)}},{key:"_isMenuHorizontal",value:function(){return"horizontal"===this.option("orientation")}},{key:"_hoverStartHandler",value:function(t){var o;this.option("onHoverStart")(t),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_hoverStartHandler",this).call(this,t),this._toggleFocusClass(!0,t.currentTarget)}},{key:"_drawSubmenu",value:function(t){this._actions.onShowing({rootItem:(0,l.getPublicElement)(t),submenu:this}),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_drawSubmenu",this).call(this,t),this._actions.onShown({rootItem:(0,l.getPublicElement)(t),submenu:this})}},{key:"_hideSubmenu",value:function(t){this._actions.onHiding({cancel:!0,rootItem:(0,l.getPublicElement)(t),submenu:this}),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_hideSubmenu",this).call(this,t),this._actions.onHidden({rootItem:(0,l.getPublicElement)(t),submenu:this})}},{key:"_showDelimiter",value:function(t){if(this.$contentDelimiter){var e=this._itemContainer().children(".dx-submenu").eq(0),o=this.option("position").of,n={of:e},i=t.position,r=i.v.location,a=i.h.location,s=o.offset(),l=Math.round(s.left),p=Math.round(s.top),c=o.width(),h=o.height(),f=e.width(),_=e.height();this.$contentDelimiter.css("display","block"),this.$contentDelimiter.width(this._isMenuHorizontal()?c<f?c-2:f:2),this.$contentDelimiter.height(this._isMenuHorizontal()?2:h<_?h-2:_),this._isMenuHorizontal()?r>p?Math.round(a)===l?(n.offset="1 -1",n.at=n.my="left top"):(n.offset="-1 -1",n.at=n.my="right top"):(this.$contentDelimiter.height(5),Math.round(a)===l?(n.offset="1 4",n.at=n.my="left bottom"):(n.offset="-1 2",n.at=n.my="right bottom")):a>l?Math.round(r)===p?(n.offset="-1 1",n.at=n.my="left top"):(n.offset="-1 -1",n.at=n.my="left bottom"):Math.round(r)===p?(n.offset="1 1",n.at=n.my="right top"):(n.offset="1 -1",n.at=n.my="right bottom"),(0,u.setup)(this.$contentDelimiter,n)}}},{key:"_getContextMenuPosition",value:function(){return this.option("position")}},{key:"isOverlayVisible",value:function(){return this._overlay.option("visible")}},{key:"getOverlayContent",value:function(){return this._overlay.$content()}}]),e}(h.default);o.exports=b}

