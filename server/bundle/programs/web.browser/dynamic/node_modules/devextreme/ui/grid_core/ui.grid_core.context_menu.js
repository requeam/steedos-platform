function module(e,t,n){"use strict";var o,r=m(e("../../core/renderer")),i=e("../../core/utils/dom"),a=e("../../core/utils/common"),u=e("../../core/utils/iterator"),c,l=m(e("./ui.grid_core.modules")),s,d=m(e("../context_menu"));function m(e){return e&&e.__esModule?e:{default:e}}var g="dx-context-menu",x={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},f=["columnHeadersView","rowsView","footerView","headerPanel"],w=l.default.ViewController.inherit({init:function(){this.createAction("onContextMenuPreparing")},getContextMenuItems:function(e){if(!e)return!1;var t,n,o,a,c,l,s,d,m,g=this,w=(0,r.default)(e.target);return(0,u.each)(f,(function(){if(t=g.getView(this),(l=t&&t.element())&&(l.is(w)||l.find(w).length)&&(d=w.closest(".dx-row > td"),s=d.parent(),o=t.getRowIndex(s),a=d[0]&&d[0].cellIndex,c=s.data("options"),(n={event:e,targetElement:(0,i.getPublicElement)(w),target:x[this],rowIndex:o,row:t._getRows()[o],columnIndex:a,column:c&&c.cells[a].column}).items=t.getContextMenuItems&&t.getContextMenuItems(n),g.executeAction("onContextMenuPreparing",n),g._contextMenuPrepared(n),m=n.items))return!1})),m},_contextMenuPrepared:a.noop}),C=l.default.View.inherit({_renderCore:function(){var e=this,t=e.element().addClass(g);this.setAria("role","presentation",t),this._createComponent(t,d.default,{onPositioning:function(t){var n=t.event,o=t.component,r=e.getController("contextMenu").getContextMenuItems(n);r?(o.option("items",r),n.stopPropagation()):t.cancel=!0},onItemClick:function(e){e.itemData.onItemClick&&e.itemData.onItemClick(e)},cssClass:e.getWidgetContainerClass(),target:e.component.$element()})}});n.exports={defaultOptions:function(){return{onContextMenuPreparing:null}},controllers:{contextMenu:w},views:{contextMenuView:C}}}

