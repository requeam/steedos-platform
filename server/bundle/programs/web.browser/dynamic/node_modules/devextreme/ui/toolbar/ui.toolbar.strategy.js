function module(t,n,e){"use strict";var i=t("../../core/renderer"),o=t("../../core/utils/common").noop,u=t("../../core/utils/iterator").each,s=t("../../core/errors"),r=t("../../core/utils/data").compileGetter,a=t("../../core/class"),l=t("../button"),_=a.abstract,m="dx-toolbar-menu-container",c="dx-toolbar-menu-button",d=a.inherit({ctor:function(t){this._toolbar=t},render:function(){this._renderMenuButton(),this._renderWidget()},_widgetOptions:function(){var t=this._toolbar._createActionByOption("onItemClick");return{itemTemplate:this._getMenuItemTemplate.bind(this),onItemClick:function(n){this._toggleMenu(!1,!0),t(n)}.bind(this)}},_getMenuItemTemplate:function(){return this._toolbar._getTemplateByOption("menuItemTemplate")},_renderWidget:function(){var t=i("<div>").appendTo(this._menuContainer());this._menu=this._toolbar._createComponent(t,this._menuWidgetClass(),this._widgetOptions()),this.renderMenuItems()},_menuContainer:_,_menuWidgetClass:_,_hasVisibleMenuItems:function(t){var n=t||this._toolbar.option("items"),e=!1,i=r("visible"),o=r("locateInMenu"),a=!1;return u(n,(function(t,n){var u=i(n,{functionsAsIs:!0}),s=o(n,{functionsAsIs:!0});"menu"===n.location&&(a=!0),!1===u||"auto"!==s&&"always"!==s&&"menu"!==n.location||(e=!0)})),a&&s.log("W0001","dxToolbar - 'location' item field","menu","16.1","Use 'locateInMenu' item field instead."),e},_getMenuItems:function(){return this._toolbar._getMenuItems()},_updateMenuVisibility:o,_renderMenuButton:function(){var t=this._menuButtonOptions();this._renderMenuButtonContainer(),this._$button=i("<div>").appendTo(this._$menuButtonContainer).addClass("dx-toolbar-menu-button"),this._toolbar._createComponent(this._$button,l,t)},_menuButtonOptions:function(){return{onClick:this._menuButtonClickHandler.bind(this)}},_menuButtonClickHandler:function(){this._toggleMenu(!this._menuShown,!0)},_renderMenuButtonContainer:function(){var t=this._toolbar._$afterSection;this._$menuButtonContainer=i("<div>").appendTo(t).addClass(this._toolbar._buttonClass()).addClass("dx-toolbar-menu-container")},renderMenuItems:function(){this._menu&&this._menu.option("items",this._getMenuItems())},toggleMenuVisibility:function(t,n){this._menu&&this._toggleMenu(t,n)},_toggleMenu:function(t){this._menuShown=t},getMenuWidget:function(){return this._menu},widgetOption:function(t,n){this._menu&&this._menu.option(t,n)},handleToolbarVisibilityChange:o});e.exports=d}

