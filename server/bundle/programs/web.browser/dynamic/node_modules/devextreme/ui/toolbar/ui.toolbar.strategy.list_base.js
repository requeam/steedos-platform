function module(t,e,i){"use strict";var n=t("../../core/renderer"),l=t("../../core/utils/extend").extend,s=t("../../core/utils/deferred").Deferred,o=t("./ui.toolbar.strategy"),a=t("../../animation/translator"),r=t("../../mobile/hide_top_overlay").hideCallback,h=t("../../animation/fx"),u=t("../overlay"),c=t("../list/ui.list.base"),_="dx-toolbar-list-visible",d="easeOutCubic",g=200,b=400,v=o.inherit({render:function(){this._renderListOverlay(),this.callBase(),this._changeListVisible(this._toolbar.option("visible"))},_renderWidget:function(){this._hasVisibleMenuItems()&&this.callBase()},_menuWidgetClass:function(){return c},_menuContainer:function(){return this._listOverlay.$content()},_menuButtonOptions:function(){return l({},this.callBase(),{activeStateEnabled:!1,text:"..."})},_widgetOptions:function(){return l({},this.callBase(),{width:"100%",indicateLoading:!1})},_renderListOverlay:function(){var t=n("<div>").appendTo(this._toolbar.$element());this._listOverlay=this._toolbar._createComponent(t,u,this._listOverlayConfig())},_listOverlayConfig:function(){return{container:!1,deferRendering:!1,shading:!1,height:"auto",width:"100%",showTitle:!1,closeOnOutsideClick:this._listOutsideClickHandler.bind(this),position:null,animation:null,closeOnBackButton:!1}},_listOutsideClickHandler:function(t){n(t.target).closest(this._listOverlay.$content()).length||this._toggleMenu(!1,!0)},_getListHeight:function(){var t,e;return this._listOverlay.$content().find(".dx-list").height()+(this._toolbar._$toolbarItemsContainer.height()-this._toolbar.$element().height())},_hideTopOverlayHandler:function(){this._toggleMenu(!1,!0)},_toggleHideTopOverlayCallback:function(){this._closeCallback&&r.remove(this._closeCallback),this._menuShown&&(this._closeCallback=this._hideTopOverlayHandler.bind(this),r.add(this._closeCallback))},_calculatePixelOffset:function(t){var e;return(t=(t||0)-1)*this._getListHeight()},_renderMenuPosition:function(t,e){var i=this._calculatePixelOffset(t),n=this._listOverlay.$content();return e?this._animateMenuToggling(n,i,this._menuShown):(a.move(n,{top:i}),(new s).resolve().promise())},_animateMenuToggling:function(t,e,i){var n=i?400:200;return h.animate(t,{type:"slide",to:{top:e},easing:"easeOutCubic",duration:n})},_toggleMenu:function(t,e){this.callBase.apply(this,arguments),this._toggleHideTopOverlayCallback(),this._renderMenuPosition(this._menuShown?0:1,e).done(function(){this._toolbar.$element().toggleClass("dx-toolbar-list-visible",t)}.bind(this))},_changeListVisible:function(t){this._listOverlay&&(this._listOverlay.option("visible",t),this._toggleMenu(!1,!1))},handleToolbarVisibilityChange:function(t){this._changeListVisible(t)}});i.exports=v}

