function module(e,t,i){"use strict";var n,o=F(e("../../core/renderer")),l,a=F(e("../../events/core/events_engine")),d,s=F(e("../../events/utils")),r,u=F(e("../../events/click")),c,h=F(e("../../core/utils/type")),m,p=F(e("../../core/utils/browser")),C,f=F(e("../../core/guid")),v,_=F(e("./ui.grid_core.modules")),g,x=F(e("../form")),w,y=F(e("./ui.grid_core.utils")),E,I=F(e("../themes")),b=e("../../core/utils/window"),R=e("../../core/utils/common"),A=e("../../core/utils/iterator"),B=e("../../core/utils/extend");function F(e){return e&&e.__esModule?e:{default:e}}var V="columnHeadersView",W="rowsView",D,H=["columnHeadersView",W,"footerView"],T="dxDataGridAdaptivity",K="adaptiveHidden",M="detailAdaptive",P="dx-field-item-content",Q="dx-item-modified",O="hidden-column",k="adaptive-more",N="dx-command-adaptive",S="dx-command-adaptive-hidden",z="dx-adaptive-detail-row",$="dx-adaptive-item-text",q="dx-master-detail-cell",U="dx-last-data-cell",j="adaptive",G="batch",L="row",J="form",X="popup",Y="revert-tooltip";function Z(e,t){return e._columnsController.getColumnId(t)}function ee(e){return e.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function te(e,t){var i,n=(0,o.default)(e),l=t.component.getController("adaptiveColumns");"data"===t.rowType?(i=(0,o.default)("<span>").addClass(l.addWidgetPrefix(k)),a.default.on(i,s.default.addNamespace(u.default.name,T),l.createAction((function(){l.toggleExpandAdaptiveDetailRow(t.key)}))),i.appendTo(n)):y.default.setEmptyText(n)}var ie=_.default.ViewController.inherit({_isRowEditMode:function(){var e;return"row"===this._editingController.getEditMode()},_isItemModified:function(e,t){var i=this._columnsController.getVisibleIndex(e.column.index),n=this._dataController.getRowIndexByKey(t.key),o=this._dataController.items()[n+1];return o&&o.modifiedValues&&h.default.isDefined(o.modifiedValues[i])},_renderFormViewTemplate:function(e,t,i){var n,o=this,l=e.column,d=this.createAction((function(){a.default.trigger(i,u.default.name)})),s=l.calculateCellValue(t.data),r=y.default.getDisplayValue(l,s,t.data,t.rowType),c=y.default.formatValue(r,l);if(l.allowEditing&&this.option("useKeyboard")&&(i.attr("tabIndex",this.option("tabIndex")),a.default.off(i,"focus",d),a.default.on(i,"focus",d)),l.cellTemplate){var m=(0,B.extend)({},t,{value:s,displayValue:r,text:c,column:l});this._rowsView.renderTemplate(i,l.cellTemplate,m,!!i.closest((0,b.getWindow)().document).length)}else n=i.get(0),l.encodeHtml?n.textContent=c:n.innerHTML=c,i.addClass("dx-adaptive-item-text"),h.default.isDefined(c)&&""!==c||i.html("&nbsp;"),this._isRowEditMode()||this._isItemModified(e,t)&&i.addClass("dx-item-modified");this.getView("rowsView")._cellPrepared(i,t)},_getTemplate:function(e,t){var i=this,n=e.column,l=this.getController("editing");return function(a,d){var s=i._isItemEdited(e),r=(0,o.default)(d),u=i._columnsController.getVisibleIndex(n.visibleIndex),c=(0,B.extend)({},t);c.value=t.row.values[u],s||n.showEditorAlways?l.renderFormEditTemplate(c,e,a.component,r,!s):(c.column=n,c.columnIndex=u,c.watch&&c.watch((function(){return c.column.selector(c.data)}),(function(t){c.value=t,r.contents().remove(),i._renderFormViewTemplate(e,c,r)})),i._renderFormViewTemplate(e,c,r))}},_isVisibleColumnsValid:function(e){var t=function(){var t,i,n=0;for(t=0;t<e.length;t++)(i=e[t]).command&&n++;return n};return!(e<2)&&!(e.length-t()<=1)},_calculatePercentWidths:function(e,t){var i=this,n=0;return t.forEach((function(t,o){"adaptiveHidden"!==e[o]&&(n+=i._getItemPercentWidth(t))})),n},_isPercentWidth:function(e){return h.default.isString(e)&&"%"===e.slice(-1)},_isColumnHidden:function(e){return this._hiddenColumns.filter((function(t){return t.index===e.index})).length>0},_getAverageColumnsWidth:function(e,t,i){var n=this,o=0,l=0;return t.forEach((function(a){if(!n._isColumnHidden(a)){var d=a.width;h.default.isDefined(d)&&!isNaN(parseFloat(d))?o+=n._isPercentWidth(d)?n._calculatePercentWidth({visibleIndex:a.visibleIndex,columnsCount:t.length,columnsCanFit:i,bestFitWidth:a.bestFitWidth,columnWidth:d,containerWidth:e}):parseFloat(d):l++}})),(e-o)/l},_calculateColumnWidth:function(e,t,i,n){var o,l=Z(this,e),a=this._columnsController.columnOption(l,"width"),d=this._columnsController.columnOption(l,"bestFitWidth"),s=i.length;if(a&&"auto"!==a){if(!this._isPercentWidth(a))return a;o=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:s,columnsCanFit:n,bestFitWidth:d,columnWidth:a,containerWidth:t})}else{var r;o=this.option("columnAutoWidth")||e.command?d:this._getAverageColumnsWidth(t,i,n)}return o},_calculatePercentWidth:function(e){var t=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,i=e.containerWidth*parseFloat(e.columnWidth)/100,n=e.columnsCanFit&&i<e.bestFitWidth?e.bestFitWidth:i;return t?e.containerWidth*parseFloat(e.columnWidth)/100:n},_getNotTruncatedColumnWidth:function(e,t,i,n){var o,l=Z(this,e),a=this._columnsController.columnOption(l,"width"),d=this._columnsController.columnOption(l,"bestFitWidth");return a&&"auto"!==a&&!this._isPercentWidth(a)?a:(o=this._calculateColumnWidth(e,t,i,n))<d?null:o},_getItemPercentWidth:function(e){var t=0;return e.width&&this._isPercentWidth(e.width)&&(t=parseFloat(e.width)),t},_getCommandColumnsWidth:function(){var e=this,t=e._columnsController.getVisibleColumns(),i=0;return(0,A.each)(t,(function(t,n){(n.index<0||n.command)&&(i+=e._columnsController.columnOption(Z(e,n),"bestFitWidth")||0)})),i},_isItemEdited:function(e){if(this.isFormEditMode())return!1;if(!this._isRowEditMode()){var t=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,i=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(t,i)}var n=this._editingController.getEditRowKey();return!!(0,R.equalByValue)(n,this._dataController.adaptiveExpandedKey())||void 0},_getFormItemsByHiddenColumns:function(e){var t=[];return(0,A.each)(e,(function(e,i){t.push({column:i,name:i.name,dataField:i.dataField,visibleIndex:i.visibleIndex})})),t},_getAdaptiveColumnVisibleIndex:function(e){var t,i;for(t=0;t<e.length;t++)if("adaptive"===(i=e[t]).command)return t},_hideAdaptiveColumn:function(e,t){var i=this._getAdaptiveColumnVisibleIndex(t);h.default.isDefined(i)&&(e[i]="adaptiveHidden",this._addCssClassToColumn("dx-command-adaptive-hidden",i))},_removeCssClassFromColumn:function(e){var t,i,n;for(t=0;t<H.length;t++)(i=this.getView(H[t]))&&i.isVisible()&&i.element()&&(n=i.element().find("."+e)).removeClass(e)},_removeCssClassesFromColumns:function(){this._removeCssClassFromColumn("dx-command-adaptive-hidden"),this._removeCssClassFromColumn(this.addWidgetPrefix("hidden-column"))},_isCellValid:function(e){return!e.hasClass("dx-master-detail-cell")},_addCssClassToColumn:function(e,t){var i=this;H.forEach((function(n){var o=i.getView(n);o&&i._addCssClassToViewColumn(o,e,t)}))},_addCssClassToViewColumn:function(e,t,i){var n,o,l,a,d=e.name,s=this._columnsController.getVisibleColumns()[i],r=this._editingController&&this._editingController.getEditFormRowIndex();if(e&&e.isVisible()&&s){n=e.getRowsCount();var u=e._getRowElements();for(o=0;o<n;o++)o===r&&d===W||(a="columnHeadersView"===d?this._columnsController.getVisibleIndex(s.index,o):i)>=0&&(l=u.eq(o).children().eq(a),this._isCellValid(l)&&l.addClass(t))}},isFormEditMode:function(){var e=this._editingController.getEditMode();return"form"===e||"popup"===e},hideRedundantColumns:function(e,t,i){var n,o=this;if(this._hiddenColumns=[],this._isVisibleColumnsValid(t)&&i.length){var l,a,d,s,r,u=0,c=this.component.$element(),h=c.width()-this._getCommandColumnsWidth(),m=function(){var e=this;return t.filter((function(t){return!t.command&&0===e._hiddenColumns.filter((function(e){return e.dataField===t.dataField})).length}))}.bind(this),p=m(),C=p.length;do{for(r=!1,u=0,a=(l=this._calculatePercentWidths(e,t))<100&&0!==l,d=0;d<t.length;d++){n=t[d];var f=this._getNotTruncatedColumnWidth(n,h,p,a),v=Z(this,n),_=this._columnsController.columnOption(v,"width"),g=this._columnsController.columnOption(v,"minWidth"),x=this._columnsController.columnOption(v,"bestFitWidth");if("adaptiveHidden"!==e[d]){if(!f&&!n.command&&!n.fixed){r=!0;break}_&&"auto"!==_||(f=Math.max(x||0,g||0)),("adaptive"!==n.command||s)&&(u+=f)}else s=!0}if(r=r||u>c.width()){var w=i.pop(),y=this._columnsController.getVisibleIndex(w.index);h+=this._calculateColumnWidth(w,h,p,a),this._addCssClassToColumn(this.addWidgetPrefix("hidden-column"),y),e[y]="adaptiveHidden",this._hiddenColumns.push(w),p=m()}}while(r&&p.length>1&&i.length);C===p.length&&this._hideAdaptiveColumn(e,t)}else this._hideAdaptiveColumn(e,t)},getItemContentByColumnIndex:function(e){var t,i,n;for(i=0;i<this._$itemContents.length;i++)if((n=(t=this._$itemContents.eq(i)).data("dx-form-item"))&&n.column&&this._columnsController.getVisibleIndex(n.column.index)===e)return t},toggleExpandAdaptiveDetailRow:function(e,t){this.isFormEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(e,t)},createFormByHiddenColumns:function(e,t){var i=this,n=(0,o.default)(e),l={items:i._getFormItemsByHiddenColumns(i._hiddenColumns),formID:"dx-"+new f.default},a=I.default.isMaterial()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:l}),i._$itemContents=null,i._form=i._createComponent((0,o.default)("<div>").appendTo(n),x.default,(0,B.extend)(a,l,{customizeItem:function(e){var n=e.column||i._columnsController.columnOption(e.name||e.dataField);n&&(e.label=e.label||{},e.label.text=e.label.text||n.caption,e.column=n,e.template=i._getTemplate(e,t,i.updateForm.bind(i))),l.customizeItem&&l.customizeItem.call(this,e)},onContentReady:function(e){l.onContentReady&&l.onContentReady.call(this,e),i._$itemContents=n.find(".dx-field-item-content")}}))},hasAdaptiveDetailRowExpanded:function(){return h.default.isDefined(this._dataController.adaptiveExpandedKey())},updateForm:function(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&h.default.isDefined(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())},updateHidingQueue:function(e){var t,i,n=this,o=e.filter((function(e){return e.visible&&!e.type&&!e.fixed&&!(h.default.isDefined(e.groupIndex)&&e.groupIndex>=0)}));if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&"widget"===this.option("columnResizingMode"))return this._hidingColumnsQueue;for(i=0;i<o.length;i++)h.default.isDefined(o[i].hidingPriority)&&o[i].hidingPriority>=0&&(t=!0,this._hidingColumnsQueue[o[i].hidingPriority]=o[i]);if(t)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(i=0;i<o.length;i++){var l=this._columnsController.getVisibleIndex(o[i].index);this._hidingColumnsQueue[l]=o[i]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue},getHiddenColumns:function(){return this._hiddenColumns},hasHiddenColumns:function(){return this._hiddenColumns.length>0},getHidingColumnsQueue:function(){return this._hidingColumnsQueue},init:function(){var e=this;e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._columnsController.addCommandColumn({type:"adaptive",command:"adaptive",visible:!0,adaptiveHidden:!0,cssClass:"dx-command-adaptive",width:"auto",cellTemplate:te,fixedPosition:"right"}),e._columnsController.columnsChanged.add((function(){var t=!!e.updateHidingQueue(e._columnsController.getColumns()).length;e._columnsController.columnOption("command:adaptive","adaptiveHidden",!t,!0)})),e._editingController=e.getController("editing"),e._hidingColumnsQueue=[],e._hiddenColumns=[],e.createAction("onAdaptiveDetailRowPreparing"),e.callBase()},optionChanged:function(e){"columnHidingEnabled"===e.name&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),this.callBase(e)},publicMethods:function(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]},isAdaptiveDetailRowExpanded:function(e){return this._dataController.adaptiveExpandedKey()&&(0,R.equalByValue)(this._dataController.adaptiveExpandedKey(),e)},expandAdaptiveDetailRow:function(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)},collapseAdaptiveDetailRow:function(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()}});i.exports={defaultOptions:function(){return{columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}},controllers:{adaptiveColumns:ie},extenders:{views:{rowsView:{_getCellTemplate:function(e){var t=this,i=e.column;return"detailAdaptive"===e.rowType&&"detail"===i.command?function(e,i){t._adaptiveColumnsController.createFormByHiddenColumns((0,o.default)(e),i)}:t.callBase(e)},_createRow:function(e){var t=this.callBase(e);return e&&"detailAdaptive"===e.rowType&&e.key===this._dataController.adaptiveExpandedKey()&&t.addClass("dx-adaptive-detail-row"),t},_renderCells:function(e,t){this.callBase(e,t);var i=this._adaptiveColumnsController.getHidingColumnsQueue().length,n=this._adaptiveColumnsController.getHiddenColumns().length;i&&!n&&ee(e).last().addClass("dx-last-data-cell")},_getColumnIndexByElementCore:function(e){var t=e.closest(".dx-field-item-content");if(t.length&&t.closest(this.component.$element()).length){var i=t.length?t.first().data("dx-form-item"):null;return i&&i.column&&this._columnsController.getVisibleIndex(i.column.index)}return this.callBase(e)},_cellPrepared:function(e,t){this.callBase.apply(this,arguments),"detailAdaptive"!==t.row.rowType&&"adaptiveHidden"===t.column.visibleWidth&&e.addClass(this.addWidgetPrefix("hidden-column"))},_getCellElement:function(e,t){var i=this._dataController.items()[e];return i&&"detailAdaptive"===i.rowType?this._adaptiveColumnsController.getItemContentByColumnIndex(t):this.callBase(e,t)},getContextMenuItems:function(e){if(e.row&&"detailAdaptive"===e.row.rowType){var t=this.component.getView("columnHeadersView"),i=(0,o.default)(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=i?i.column:e.column,t.getContextMenuItems&&t.getContextMenuItems(e)}return this.callBase&&this.callBase(e)},isClickableElement:function(e){var t;return!!this.callBase&&this.callBase(e)||!!e.closest(".dx-command-adaptive").length},init:function(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth:function(e,t){this.callBase(e,"adaptiveHidden"===e.visibleWidth?e.bestFitWidth:t)}},columnsResizer:{_pointCreated:function(e,t,i){var n=this.callBase(e,t,i),o=i[e.columnIndex]||{},l=this._getNextColumnIndex(e.columnIndex),a=i[l]||{},d=l!==e.columnIndex+1&&a.command,s="adaptiveHidden"===o.visibleWidth||d;return n||s},_getNextColumnIndex:function(e){for(var t=this._columnsController.getVisibleColumns(),i=this.callBase(e);t[i]&&"adaptiveHidden"===t[i].visibleWidth;)i++;return i}},draggingHeader:{_pointCreated:function(e,t,i,n){var o=this.callBase(e,t,i,n),l,a="adaptiveHidden"===(t[e.columnIndex-1]||{}).visibleWidth;return o||a}},editing:{_isRowEditMode:function(){return"row"===this.getEditMode()},_getFormEditItemTemplate:function(e,t){return"row"!==this.getEditMode()&&"detailAdaptive"===e.rowType?(e.columnIndex=this._columnsController.getVisibleIndex(t.index),this.getColumnTemplate(e)):this.callBase(e,t)},_closeEditItem:function(e){var t=e.closest(".dx-field-item-content"),i=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,n=t.length?t.first().data("dx-form-item"):null,o=n&&n.column&&this._columnsController.getVisibleIndex(n.column.index);this.isEditCell(i,o)||this.callBase(e)},_beforeUpdateItems:function(e,t){if(!this._adaptiveController.isFormEditMode()&&this._adaptiveController.hasHiddenColumns()){var i=this._dataController.items(),n=i[t],o=y.default.getIndexByKey(this._dataController.adaptiveExpandedKey(),i);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),o>=0&&t>o&&this._editRowIndex--,o>=0&&e.push(o+1),e.push(t+1),this._dataController.adaptiveExpandedKey(n.key)}},_afterInsertRow:function(e){this.callBase(e),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(e.key,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow:function(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow:function(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData:function(){this.callBase(),this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()&&this.getController("validating").validate(!0)&&this._cancelEditAdaptiveDetailRow()},_beforeCancelEditData:function(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating:function(e){var t=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(e.key)&&t.push("detailAdaptive"===e.rowType?e.rowIndex-1:e.rowIndex+1),t},_beforeCloseEditCellInBatchMode:function(e){var t,i=this._dataController._adaptiveExpandedKey;i&&(t=y.default.getIndexByKey(i,this._dataController.items()))>-1&&e.unshift(t)},editRow:function(e){this._adaptiveController.isFormEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},deleteRow:function(e){var t=this._dataController.getKeyByRowIndex(e);"batch"===this.getEditMode()&&this._adaptiveController.isAdaptiveDetailRowExpanded(t)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit:function(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_updateScrollableForIE:function(){var e=this;p.default.msie&&parseInt(p.default.version)<=11&&setTimeout((function(){e.getView("rowsView")._updateScrollable()}))},_correctColumnWidths:function(e,t){var i,n=this._adaptiveColumnsController,o=this.option("columnAutoWidth"),l=n.getHiddenColumns(),a=n.updateHidingQueue(this._columnsController.getColumns());return n.hideRedundantColumns(e,t,a),i=n.getHiddenColumns(),n.hasAdaptiveDetailRowExpanded()&&l.length!==i.length&&n.updateForm(i),!i.length&&n.collapseAdaptiveDetailRow(),o&&a.length&&!i.length&&this._updateScrollableForIE(),this.callBase.apply(this,arguments)},_toggleBestFitMode:function(e){e&&this._adaptiveColumnsController._removeCssClassesFromColumns(),this.callBase(e)},_needStretch:function(){var e=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()},init:function(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()}},data:{_processItems:function(e,t){var i,n,o=this;return e=o.callBase.apply(o,arguments),"loadingAll"!==t&&h.default.isDefined(o._adaptiveExpandedKey)?((n=y.default.getIndexByKey(o._adaptiveExpandedKey,e))>=0?(i=e[n],e.splice(n+1,0,{visible:!0,rowType:"detailAdaptive",key:i.key,data:i.data,modifiedValues:i.modifiedValues,inserted:i.inserted,values:i.values})):"refresh"===t&&(o._adaptiveExpandedKey=void 0),e):e},_getRowIndicesForExpand:function(e){var t,i=this.callBase.apply(this,arguments);return this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(e)&&(t=i[i.length-1],i.push(t+1)),i},adaptiveExpandedKey:function(e){if(!h.default.isDefined(e))return this._adaptiveExpandedKey;this._adaptiveExpandedKey=e},toggleExpandAdaptiveDetailRow:function(e,t){var i=this,n=y.default.getIndexByKey(this._adaptiveExpandedKey,this._items),o=y.default.getIndexByKey(e,this._items);n>=0&&n===o&&!t&&(e=void 0,o=-1),this._adaptiveExpandedKey=e,n>=0&&n++,o>=0&&o++,this.updateItems({changeType:"update",rowIndices:[n,o]})},init:function(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_getFocusCellSelector:function(){return this.callBase()+", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content"},_getTooltipsSelector:function(){return this.callBase()+", .dx-field-item-content ."+this.addWidgetPrefix("revert-tooltip")}},columns:{_isColumnVisible:function(e){return this.callBase(e)&&!e.adaptiveHidden}},keyboardNavigation:{_isCellValid:function(e){return this.callBase(e)&&!e.hasClass(this.addWidgetPrefix("hidden-column"))},_processNextCellInMasterDetail:function(e){if(this.callBase(e),!this._isInsideEditForm(e)&&e){var t=function t(){a.default.off(e,"focus",t),a.default.trigger(e,"dxclick")};a.default.on(e,"focus",t)}},_handleTabKeyOnMasterDetailCell:function(e,t){var i=this.callBase(e,t),n=this._getFocusedCell();if(!i&&n){var o=n.parent(),l=ee(o),a="next"===t?l.last():l.first(),d=o.get(0).rowIndex,s=this._adaptiveController,r=this._dataController.getKeyByRowIndex("next"===t?d:d-1),u=n&&a&&n.get(0)===a.get(0);return s.isAdaptiveDetailRowExpanded(r)&&u}return i},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}}}}}}

