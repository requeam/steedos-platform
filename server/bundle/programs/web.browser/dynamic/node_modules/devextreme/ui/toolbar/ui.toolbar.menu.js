function module(t,e,n){"use strict";var i=t("../../core/renderer"),o=t("../../core/component_registrator"),a=t("../../core/utils/iterator").each,s=t("../list/ui.list.base"),r="dx-toolbar-menu-action",l="dx-toolbar-hidden-button",c="dx-toolbar-menu-section",d="dx-toolbar-menu-last-section",u=s.inherit({_activeStateUnit:".dx-toolbar-menu-action",_initMarkup:function(){this._renderSections(),this.callBase()},_getSections:function(){return this._itemContainer().children()},_itemElements:function(){return this._getSections().children(this._itemSelector())},_renderSections:function(){var t=this,e=this._itemContainer();a(["before","center","after","menu"],(function(){var n="_$"+this+"Section",o=t[n];o||(t[n]=o=i("<div>").addClass("dx-toolbar-menu-section")),o.appendTo(e)}))},_renderItems:function(){this.callBase.apply(this,arguments),this._updateSections()},_updateSections:function(){var t=this.$element().find(".dx-toolbar-menu-section");t.removeClass("dx-toolbar-menu-last-section"),t.not(":empty").eq(-1).addClass("dx-toolbar-menu-last-section")},_renderItem:function(t,e,n,i){var o,a=e.location||"menu",s=this["_$"+a+"Section"];return o=this.callBase(t,e,s,i),this._getItemTemplateName({itemData:e})&&o.addClass("dx-toolbar-menu-custom"),("menu"===a||"dxButton"===e.widget||e.isAction)&&o.addClass("dx-toolbar-menu-action"),"dxButton"===e.widget&&o.addClass("dx-toolbar-hidden-button"),o.addClass(e.cssClass),o},_getItemTemplateName:function(t){var e=this.callBase(t),n=t.itemData,i;return n&&n.menuItemTemplate||e},_itemClickHandler:function(t,e,n){i(t.target).closest(".dx-toolbar-menu-action").length&&this.callBase(t,e,n)},_clean:function(){this._getSections().empty(),this.callBase()}});o("dxToolbarMenu",u),n.exports=u}

