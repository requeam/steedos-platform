function module(t,e,n){"use strict";var i=t("../core/renderer"),s=t("../events/core/events_engine"),l=t("../core/devices"),o=t("../core/component_registrator"),a=t("./button"),r=t("./widget/utils.ink_ripple"),c=t("../events/utils"),d=t("../core/utils/extend").extend,h=t("../core/utils/type").isPlainObject,u=t("../events/pointer"),p=t("../core/utils/iterator"),_=t("./tabs/item"),b=t("./themes"),v=t("../events/hold"),m=t("./scroll_view/ui.scrollable"),f=t("./collection/ui.collection_widget.live_update").default,x=t("../core/utils/icon"),g=t("./widget/bindable_template"),B="dx-tabs",I="dx-tabs-wrapper",C="dx-tabs-expanded",w="dx-tabs-stretched",S="dx-tabs-scrollable",$="dx-tabs-nav-buttons",E="dx-overflow-hidden",N="dx-tab",k="dx-tab-selected",y="dx-tabs-nav-button",T="dx-tabs-nav-button-left",W="dx-tabs-nav-button-right",R="dx-tab-text",M="dxTabData",O="chevronnext",A="chevronprev",D=100,V=5,F=300,P=30,j=f.inherit({_activeStateUnit:".dx-tab",_getDefaultOptions:function(){return d(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){var t=b.current();return this.callBase().concat([{device:function(){return"generic"!==l.real().platform},options:{showNavButtons:!1}},{device:{platform:"generic"},options:{scrollByContent:!1}},{device:function(){return"desktop"===l.real().deviceType&&!l.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return b.isAndroid5(t)},options:{useInkRipple:!0}},{device:function(){return b.isMaterial(t)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass("dx-tabs"),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=100},_initTemplates:function(){this.callBase(),this._defaultTemplates.item=new g(function(t,e){h(e)?this._prepareDefaultItemTemplate(e,t):t.text(String(e));var n=x.getImageContainer(e.icon);t.wrapInner(i("<span>").addClass("dx-tab-text")),n&&n.prependTo(t)}.bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))},_itemClass:function(){return"dx-tab"},_selectedItemClass:function(){return"dx-tab-selected"},_itemDataKey:function(){return"dxTabData"},_initMarkup:function(){this.callBase(),this.setAria("role","tab",this.itemElements()),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass("dx-overflow-hidden")},_render:function(){this.callBase(),this._renderScrolling()},_renderScrolling:function(){var t=["dx-tabs-stretched","dx-tabs-expanded","dx-overflow-hidden"];this.$element().removeClass(t.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()&&(this._scrollable||(this._renderScrollable(),this._renderNavButtons()),this._scrollable.update(),this._updateNavButtonsVisibility(),this.option("rtlEnabled")&&this._scrollable.scrollTo({left:this._scrollable.scrollWidth()-this._scrollable.clientWidth()}),this._scrollToItem(this.option("selectedItem"))),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass("dx-tabs-stretched"),this.$element().removeClass("dx-tabs-nav-buttons").addClass("dx-tabs-expanded"))},_isItemsWidthExceeded:function(){var t;return this._getSummaryItemsWidth(this._getVisibleItems(),!0)-1>this.$element().width()},_needStretchItems:function(){var t=this._getVisibleItems(),e=this.$element().width(),n=[],s;return p.each(t,(function(t,e){n.push(i(e).outerWidth(!0))})),Math.max.apply(null,n)>e/t.length},_cleanNavButtons:function(){this._leftButton&&this._rightButton&&(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=r.render()},_toggleActiveState:function(t,e,n){if(this.callBase.apply(this,arguments),this._inkRipple){var i={element:t,event:n};e?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}},_renderMultiple:function(){"multiple"===this.option("selectionMode")&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=i("<div>").addClass("dx-tabs-wrapper"),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var t=this.$element().wrapInner(i("<div>").addClass("dx-tabs-scrollable")).children();this._scrollable=this._createComponent(t,m,{direction:"horizontal",showScrollbar:!1,useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:this._updateNavButtonsVisibility.bind(this)}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(t){if(this._scrollable){var e=this._editStrategy.getItemElement(t);this._scrollable.scrollToElement(e)}},_renderNavButtons:function(){if(this.$element().toggleClass("dx-tabs-nav-buttons",this.option("showNavButtons")),this.option("showNavButtons")){var t=this.option("rtlEnabled");this._leftButton=this._createNavButton(-30,t?"chevronnext":"chevronprev");var e=this._leftButton.$element();e.addClass("dx-tabs-nav-button-left"),this.$element().prepend(e),this._rightButton=this._createNavButton(30,t?"chevronprev":"chevronnext");var n=this._rightButton.$element();n.addClass("dx-tabs-nav-button-right"),this.$element().append(n)}},_updateNavButtonsVisibility:function(){this._leftButton&&this._leftButton.option("disabled",this._scrollable.scrollLeft()<=0),this._rightButton&&this._rightButton.option("disabled",this._scrollable.scrollLeft()>=Math.round(this._scrollable.scrollWidth()-this._scrollable.clientWidth()))},_updateScrollPosition:function(t,e){this._scrollable.update(),this._scrollable.scrollBy(t/e)},_createNavButton:function(t,e){var n=this,l=n._createAction((function(){n._holdInterval=setInterval((function(){n._updateScrollPosition(t,5)}),5)})),o=c.addNamespace(v.name,"dxNavButton"),r=c.addNamespace(u.up,"dxNavButton"),d=c.addNamespace(u.out,"dxNavButton"),h=this._createComponent(i("<div>").addClass("dx-tabs-nav-button"),a,{focusStateEnabled:!1,icon:e,onClick:function(){n._updateScrollPosition(t,1)},integrationOptions:{}}),p=h.$element();return s.on(p,o,{timeout:300},function(t){l({event:t})}.bind(this)),s.on(p,r,(function(){n._clearInterval()})),s.on(p,d,(function(){n._clearInterval()})),h},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_renderSelection:function(t){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(t[0]),{left:1,right:1})},_visibilityChanged:function(t){t&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(t){"single"===this.option("selectionMode")&&this.isItemSelected(t.currentTarget)||this.callBase(t)},_clean:function(){this._cleanScrolling(),this.callBase()},_optionChanged:function(t){switch(t.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(t.name,t.value);break;case"width":this.callBase(t),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(t);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}}});j.ItemClass=_,o("dxTabs",j),n.exports=j,n.exports.getTabsExpandedClass="dx-tabs-expanded",n.exports.default=n.exports}

