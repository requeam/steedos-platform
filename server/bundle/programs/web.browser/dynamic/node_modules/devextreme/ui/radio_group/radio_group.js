function module(t,e,o){"use strict";var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,o);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,o,i)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(i):void 0},r,a=O(t("../../core/renderer")),s=t("../../core/utils/extend"),l,p=O(t("../../core/devices")),u,c=O(t("../widget/utils.ink_ripple")),d,_=O(t("../../core/component_registrator")),h,f=O(t("../themes")),y,v=O(t("../collection/ui.collection_widget.edit")),b,g=O(t("../editor/ui.data_expression")),m,k=O(t("../editor/editor"));function O(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function C(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var S="dx-radiobutton-checked",j="dx-radiobutton",R="dx-radiobutton-icon-checked",P="dx-radiobutton-icon",I="dx-radiobutton-icon-dot",T="dx-radiogroup-horizontal",w="dx-radiogroup-vertical",D="dx-radio-value-container",A="dx-radiogroup",$=100,z=function(t){function e(){return x(this,e),E(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return C(e,t),i(e,[{key:"_focusTarget",value:function(){return this.$element().parent()}},{key:"_getDefaultOptions",value:function(){var t=n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_getDefaultOptions",this).call(this);return(0,s.extend)(t,g.default._dataExpressionDefaultOptions(),{_itemAttributes:{role:"radio"}})}},{key:"_initMarkup",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initMarkup",this).call(this),this.itemElements().addClass("dx-radiobutton")}},{key:"_keyboardEventBindingTarget",value:function(){return this._focusTarget()}},{key:"_postprocessRenderItem",value:function(t){var o=t.itemData.html,i=t.itemElement;if(!o){var r=(0,a.default)("<div>").addClass("dx-radiobutton-icon");(0,a.default)("<div>").addClass("dx-radiobutton-icon-dot").appendTo(r);var s=(0,a.default)("<div>").append(r).addClass("dx-radio-value-container");(0,a.default)(i).prepend(s)}n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_postprocessRenderItem",this).call(this,t)}},{key:"_processSelectableItem",value:function(t,o){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_processSelectableItem",this).call(this,t,o),t.toggleClass("dx-radiobutton-checked",o).find(".dx-radiobutton-icon").first().toggleClass("dx-radiobutton-icon-checked",o),this.setAria("checked",o,t)}},{key:"_refreshContent",value:function(){this._prepareContent(),this._renderContent()}},{key:"_supportedKeys",value:function(){var t=n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_supportedKeys",this).call(this);return(0,s.extend)({},t,{enter:function(e){return e.preventDefault(),t.enter.apply(this,arguments)},space:function(e){return e.preventDefault(),t.space.apply(this,arguments)}})}},{key:"itemElements",value:function(){var t=n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"itemElements",this).call(this);return t.not(t.find(this._itemSelector()))}}]),e}(v.default),K=function(t){function e(){return x(this,e),E(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return C(e,t),i(e,[{key:"_clean",value:function(){delete this._inkRipple,n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_clean",this).call(this)}},{key:"_dataSourceOptions",value:function(){return{paginate:!1}}},{key:"_defaultOptionsRules",value:function(){var t;return n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_defaultOptionsRules",this).call(this).concat([{device:{tablet:!0},options:{layout:"horizontal"}},{device:function(){return"desktop"===p.default.real().deviceType&&!p.default.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return f.default.isAndroid5()},options:{useInkRipple:!0}}])}},{key:"_fireContentReadyAction",value:function(t){t&&n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_fireContentReadyAction",this).call(this)}},{key:"_focusTarget",value:function(){return this.$element()}},{key:"_getAriaTarget",value:function(){return this.$element()}},{key:"_getDefaultOptions",value:function(){var t=n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_getDefaultOptions",this).call(this);return(0,s.extend)(t,(0,s.extend)(g.default._dataExpressionDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,layout:"vertical",useInkRipple:!1}))}},{key:"_getItemValue",value:function(t){return this._valueGetter?this._valueGetter(t):t.text}},{key:"_getSubmitElement",value:function(){return this._$submitElement}},{key:"_init",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_init",this).call(this),this._activeStateUnit=".dx-radiobutton",this._feedbackHideTimeout=100,this._initDataExpressions()}},{key:"_initMarkup",value:function(){this.$element().addClass("dx-radiogroup"),this._renderSubmitElement(),this.setAria("role","radiogroup"),this._renderRadios(),this.option("useInkRipple")&&this._renderInkRipple(),n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_initMarkup",this).call(this)}},{key:"_itemClickHandler",value:function(t){var e=t.itemElement,o=t.event,i=t.itemData;if(this.itemElements().is(e)){var n=this._getItemValue(i);n!==this.option("value")&&(this._saveValueChangeEvent(o),this.option("value",n))}}},{key:"_optionChanged",value:function(t){var o=t.name,i=t.value;switch(this._dataExpressionOptionChanged(t),o){case"useInkRipple":this._invalidate();break;case"focusStateEnabled":case"accessKey":case"tabIndex":this._setCollectionWidgetOption(o,i);break;case"disabled":n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_optionChanged",this).call(this,t),this._setCollectionWidgetOption(o,i);break;case"dataSource":this._setCollectionWidgetOption("dataSource",this._dataSource);break;case"valueExpr":this._setCollectionWidgetOption("keyExpr",this._getCollectionKeyExpr());break;case"value":this._setCollectionWidgetOption("selectedItemKeys",[i]),this._setSubmitValue(i),n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_optionChanged",this).call(this,t);break;case"items":case"itemTemplate":case"displayExpr":break;case"layout":this._renderLayout(),this._updateItemsSize();break;default:n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_optionChanged",this).call(this,t)}}},{key:"_render",value:function(){this._renderLayout(),n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_render",this).call(this),this._updateItemsSize()}},{key:"_renderInkRipple",value:function(){this._inkRipple=c.default.render({waveSizeCoefficient:3.3,useHoldAnimation:!1,isCentered:!0})}},{key:"_renderLayout",value:function(){var t=this.option("layout"),e=this.$element();e.toggleClass("dx-radiogroup-vertical","vertical"===t),e.toggleClass("dx-radiogroup-horizontal","horizontal"===t)}},{key:"_renderRadios",value:function(){var t=this,e=(0,a.default)("<div>").appendTo(this.$element());this._radios=this._createComponent(e,z,{displayExpr:this.option("displayExpr"),accessKey:this.option("accessKey"),dataSource:this._dataSource,focusStateEnabled:this.option("focusStateEnabled"),itemTemplate:this.option("itemTemplate"),keyExpr:this._getCollectionKeyExpr(),noDataText:"",onContentReady:function(){return t._fireContentReadyAction(!0)},onItemClick:this._itemClickHandler.bind(this),scrollingEnabled:!1,selectionByClick:!1,selectionMode:"single",selectedItemKeys:[this.option("value")],tabIndex:this.option("tabIndex")})}},{key:"_renderSubmitElement",value:function(){this._$submitElement=(0,a.default)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue()}},{key:"_setOptionsByReference",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_setOptionsByReference",this).call(this),(0,s.extend)(this._optionsByReference,{value:!0})}},{key:"_setSubmitValue",value:function(t){t=t||this.option("value");var e="this"===this.option("valueExpr")?this._displayGetter(t):t;this._$submitElement.val(e)}},{key:"_setCollectionWidgetOption",value:function(){this._setWidgetOption("_radios",arguments)}},{key:"_toggleActiveState",value:function(t,o,i){if(n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_toggleActiveState",this).call(this,t,o,i),this._inkRipple){var r={element:t.find(".dx-radiobutton-icon"),event:i};o?this._inkRipple.showWave(r):this._inkRipple.hideWave(r)}}},{key:"_updateItemsSize",value:function(){if("horizontal"===this.option("layout"))this.itemElements().css("height","auto");else{var t=this.option("items").length;this.itemElements().css("height",100/t+"%")}}},{key:"focus",value:function(){this._radios&&this._radios.focus()}},{key:"itemElements",value:function(){return this._radios.itemElements()}}]),e}(k.default);K.include(g.default),(0,_.default)("dxRadioGroup",K),o.exports=K}

