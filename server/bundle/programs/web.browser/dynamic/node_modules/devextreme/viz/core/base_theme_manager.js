function module(e,t){"use strict";var i=e("../../core/class"),n=e("../../core/utils/extend").extend,r=e("../../core/utils/type"),s=e("../../core/utils/iterator").each,h=e("../palette"),a=r.isString,c=e("./utils").parseScalar,l=e("../themes"),o=l.getTheme,u=l.addCacheItem,m=l.removeCacheItem,f=n,_=s;function d(e,t){var i=e;return t&&_(t.split("."),(function(e,t){return i=i[t]})),i}e("./themes/generic.light"),e("./themes/generic.dark"),e("./themes/generic.contrast"),e("./themes/generic.carmine"),e("./themes/generic.darkmoon"),e("./themes/generic.softblue"),e("./themes/generic.darkviolet"),e("./themes/generic.greenmist"),e("./themes/material"),e("./themes/ios"),e("./themes/android"),e("./themes/win"),t.BaseThemeManager=i.inherit({ctor:function(){u(this)},dispose:function(){var e=this;return m(this),this._callback=this._theme=this._font=null,this},setCallback:function(e){return this._callback=e,this},setTheme:function(e,t){return this._current=e,this._rtl=t,this.refresh()},refresh:function(){var e=this,t=this._current||{},i=o(t.name||t);return this._themeName=i.name,this._defaultPalette=i.defaultPalette,this._font=f({},i.font,t.font),this._themeSection&&_(this._themeSection.split("."),(function(e,t){i=f(!0,{},i[t])})),this._theme=f(!0,{},i,a(t)?{}:t),this._initializeTheme(),c(this._rtl,this._theme.rtlEnabled)&&f(!0,this._theme,this._theme._rtl),this._callback(),this},theme:function(e){return d(this._theme,e)},themeName:function(){return this._themeName},createPalette:function(e,t){return new h.Palette(e,t,this._defaultPalette)},createDiscretePalette:function(e,t){return new h.DiscretePalette(e,t,this._defaultPalette)},createGradientPalette:function(e){return new h.GradientPalette(e,this._defaultPalette)},getAccentColor:function(e){return h.getAccentColor(e,this._defaultPalette)},_initializeTheme:function(){var e=this;_(e._fontFields||[],(function(t,i){e._initializeFont(d(e._theme,i))}))},_initializeFont:function(e){f(e,this._font,f({},e))}})}

