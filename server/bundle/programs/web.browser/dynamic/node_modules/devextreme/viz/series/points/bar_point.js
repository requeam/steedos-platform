function module(t,i,s){"use strict";var e,h=t("../../../core/utils/extend").extend,r=Math,a=r.floor,o=r.abs,n=t("./symbol_point"),l="canvas_position_default",u=9,d=4,g="right",c="left",_="top",x="bottom";s.exports=h({},n,{correctCoordinates:function(t){var i=this,s=a(t.offset-t.width/2);this._options.rotated?(this.height=t.width,this.yCorrection=s,this.xCorrection=null):(this.width=t.width,this.xCorrection=s,this.yCorrection=null)},_getGraphicBBox:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},_getLabelConnector:function(t){return this._getGraphicBBox(t)},_getLabelPosition:function(){var t,i=this,s=this.initialValue,e=this._getValTranslator().getBusinessRange().invert,h="discrete"===this.series.valueAxisType,r=this.series.isFullStackedSeries(),a=!h&&(s>=0&&!e||s<0&&e)||h&&!e||r;return t=this._options.rotated?a?g:c:a?_:x},_getLabelCoords:function(t){var i,s=this;return i=0===this.initialValue&&this.series.isFullStackedSeries()?this._options.rotated?this._getLabelCoordOfPosition(t,g):this._getLabelCoordOfPosition(t,_):"inside"===t.getLayoutOptions().position?this._getLabelCoordOfPosition(t,"inside"):n._getLabelCoords.call(this,t)},_checkLabelPosition:function(t,i){var s=this,e=this._getVisibleArea();return this._isPointInVisibleArea(e,this._getGraphicBBox())?this._moveLabelOnCanvas(i,e,t.getBoundingRect()):i},hideInsideLabel:function(t,i){var s=this._getGraphicBBox(),e=t.getBoundingRect();return!(!this._options.resolveLabelsOverlapping||!(i.y<=s.y&&i.y+e.height>=s.y+s.height||i.x<=s.x&&i.x+e.width>=s.x+s.width)||i.y>s.y+s.height||i.y+e.height<s.y||i.x>s.x+s.width||i.x+e.width<s.x)&&(t.draw(!1),!0)},_moveLabelOnCanvas:function(t,i,s){var e=t.x,h=t.y;return i.minX>e&&(e=i.minX),i.maxX<e+s.width&&(e=i.maxX-s.width),i.minY>h&&(h=i.minY),i.maxY<h+s.height&&(h=i.maxY-s.height),{x:e,y:h}},_showForZeroValues:function(){return this._options.label.showForZeroValues||this.initialValue},_drawMarker:function(t,i,s){var e=this,h=this._getStyle(),r=this.x,a=this.y,o=this.width,n=this.height,l=this._options.cornerRadius;s&&(this._options.rotated?(o=0,r=this.defaultX):(n=0,a=this.defaultY)),this.graphic=t.rect(r,a,o,n).attr({rx:l,ry:l}).smartAttr(h).data({"chart-data-point":this}).append(i)},_getSettingsForTracker:function(){var t=this,i=this.y,s=this.height,e=this.x,h=this.width;return this._options.rotated?1===h&&(h=9,e-=4):1===s&&(s=9,i-=4),{x:e,y:i,width:h,height:s}},getGraphicSettings:function(){var t=this.graphic;return{x:t.attr("x"),y:t.attr("y"),height:t.attr("height"),width:t.attr("width")}},_getEdgeTooltipParams:function(t,i,s,e){var h,r,a=this.value>=0,o=this._getValTranslator().getBusinessRange().invert;return this._options.rotated?(r=i+e/2,h=o?a?t:t+s:a?t+s:t):(h=t+s/2,r=o?a?i+e:i:a?i:i+e),{x:h,y:r,offset:0}},getTooltipParams:function(t){var i=this.x,s=this.y,e=this.width,h=this.height;return"edge"===t?this._getEdgeTooltipParams(i,s,e,h):{x:i+e/2,y:s+h/2,offset:0}},_truncateCoord:function(t,i,s){return null===t?t:t<i?i:t>s?s:t},_getErrorBarBaseEdgeLength:function(){return this._options.rotated?this.height:this.width},_translateErrorBars:function(t){n._translateErrorBars.call(this),(this._errorBarPos<t.min||this._errorBarPos>t.max)&&(this._errorBarPos=void 0)},_translate:function(){var t,i,s,e=this,h=this._options.rotated,r=h?"x":"y",a=h?"y":"x",n=h?"width":"height",u=h?"height":"width",d=this._getArgTranslator(),g=this._getValTranslator(),c=d.getCanvasVisibleArea(),_=g.getCanvasVisibleArea();t=d.translate(this.argument),this[a]=t=null===t?t:t+(this[a+"Correction"]||0),i=g.translate(this.value,1),s=g.translate(this.minValue),this["v"+r]=i,this["v"+a]=t+this[u]/2,i=this._truncateCoord(i,_.min,_.max),s=this._truncateCoord(s,_.min,_.max),this[n]=o(i-s),i=i<s?i:s,this._calculateVisibility(h?i:t,h?t:i,this.width,this.height),this[r]=null===i?i:i+(this[r+"Correction"]||0),this["min"+r.toUpperCase()]=null===s?s:s+(this[r+"Correction"]||0),this["default"+r.toUpperCase()]=g.translate(l),this._translateErrorBars(c),this.inVisibleArea&&null!==this[a]&&(this[a]<c.min&&(this[u]=this[u]-(c.min-this[a]),this[a]=c.min),this[a]+this[u]>c.max&&(this[u]=c.max-this[a]))},_updateMarker:function(t,i){this.graphic.smartAttr(h({},i,t?{}:this.getMarkerCoords()))},getMarkerCoords:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},coordsIn:function(t,i){var s=this;return t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height}})}

