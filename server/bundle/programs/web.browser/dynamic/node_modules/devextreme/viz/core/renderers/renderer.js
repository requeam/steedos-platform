function module(t,e){"use strict";var n=t("../../../core/renderer"),i=t("../../../core/dom_adapter"),r=t("../../../core/utils/window"),s=t("../../../core/utils/call_once"),o=r.getWindow(),a=t("../../../events/core/events_engine"),l=t("../../../core/utils/browser"),h=t("../../../core/utils/svg").getSvgMarkup,u=t("./animation"),c=Math,f=c.min,d=c.max,p=c.floor,g=c.round,m=c.sin,v=c.cos,_=c.abs,x=c.PI,y=t("../../../core/utils/type").isDefined,b=t("../utils"),k=b.normalizeEnum,E=b.normalizeBBox,A=b.rotateBBox,w=x/180,R=parseInt,C=parseFloat,S=.5,M=5,B={"column-count":!0,"fill-opacity":!0,"flex-grow":!0,"flex-shrink":!0,"font-weight":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,widows:!0,"z-index":!0,zoom:!0},F="text",Y="stroke",N="stroke-width",H="stroke-opacity",I="font-size",X="font-style",L="font-weight",z="text-decoration",O="none",T=12,P=Object.create?function(t){return Object.create(t)}:function(t){var e=function(){};return e.prototype=t,new e},W={scaleX:1,scaleY:1,"pointer-events":""},$=s((function(){var t=i.createElement("div"),e=0;return t.style.left="-9999px",t.style.position="absolute",{backupContainer:t,backupCounter:0}}));function j(t){0===$().backupCounter&&i.getBody().appendChild($().backupContainer),++$().backupCounter,t.append({element:$().backupContainer})}function D(t,e){t.append({element:e}),--$().backupCounter,0===$().backupCounter&&i.getBody().removeChild($().backupContainer)}var G=(J=1,function(){return"DevExpress_"+J++}),J;function Q(t){return t&&"string"!=typeof t}function U(t){return i.createElementNS("http://www.w3.org/2000/svg",t)}function Z(t,e){return null!==t?"url("+(e?o.location.href.split("#")[0]:"")+"#"+t+")":t}function q(t,e){var n;for(n in e)t[n]=e[n];return t}function K(t,e){return t=t.toString().split("e"),+((t=(t=g(+(t[0]+"e"+(t[1]?+t[1]+e:e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]-e:-e))}function V(t){var e;try{e=t.getBoundingClientRect()}catch(n){}return e||{left:0,top:0}}var tt={full:O,lefttop:"xMinYMin",leftcenter:"xMinYMid",leftbottom:"xMinYMax",centertop:"xMidYMin",center:"xMidYMid",centerbottom:"xMidYMax",righttop:"xMaxYMin",rightcenter:"xMaxYMid",rightbottom:"xMaxYMax"};function et(t,e,n,i,r,s){var o,a=!0,l=K(s,3)-K(r,3);return l&&(_(l)%360==0&&(r=0,s=360,o=!0,s-=.01),r>360&&(r%=360),s>360&&(s%=360),r>s&&(r-=360),a=!1),r*=w,s*=w,[t,e,f(i,n),d(i,n),v(r),m(r),v(s),m(s),o,p(_(s-r)/x)%2?"1":"0",a]}var nt=function(t,e,n,i,r,s,o,a,l,h){return["M",(t+i*r).toFixed(5),(e-i*s).toFixed(5),"A",i.toFixed(5),i.toFixed(5),0,h,0,(t+i*o).toFixed(5),(e-i*a).toFixed(5),l?"M":"L",(t+n*o).toFixed(5),(e-n*a).toFixed(5),"A",n.toFixed(5),n.toFixed(5),0,h,1,(t+n*r).toFixed(5),(e-n*s).toFixed(5),"Z"].join(" ")};function it(t,e){var n=[["M",0,0]];switch(e){case"line":n=rt(t);break;case"area":n=rt(t,!0);break;case"bezier":n=st(t);break;case"bezierarea":n=st(t,!0)}return n}function rt(t,e){return ot(t,at,e)}function st(t,e){return ot(t,lt,e)}function ot(t,e,n){var i,r,s=[];if(t[0]&&t[0].length)for(i=0,r=t.length;i<r;++i)e(t[i],n,s);else e(t,n,s);return s}function at(t,e,n){var i=0,r=n.length,s=r,o=(t||[]).length;if(o){if(void 0!==t[0].x)for(;i<o;)n[s++]=["L",t[i].x,t[i++].y];else for(;i<o;)n[s++]=["L",t[i++],t[i++]];n[r][0]="M"}else n[s]=["M",0,0];return e&&n.push(["Z"]),n}function lt(t,e,n){var i,r=n.length,s=(t||[]).length;if(s)if(void 0!==t[0].x)for(n[r++]=["M",t[0].x,t[0].y],i=1;i<s;)n[r++]=["C",t[i].x,t[i++].y,t[i].x,t[i++].y,t[i].x,t[i++].y];else for(n[r++]=["M",t[0],t[1]],i=2;i<s;)n[r++]=["C",t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]];else n[r]=["M",0,0];return e&&n.push(["Z"]),n}function ht(t){var e,n,i,r,s=[],o=0,a=t.length;for(e=0;e<a;++e)for(i=0,r=(n=t[e]).length;i<r;++i)s[o++]=n[i];return s.join(" ")}function ut(t,e,n){var i,r,s=t.length,o=e.length,a=-1!==n.indexOf("area")?dt:ft;if(0===s)for(i=0;i<o;i++)t.push(e[i].slice(0));else s<o?a(t,e,n):s>o&&(r=e.slice(0),a(e,t,n));return r}function ct(t,e){var n=t[t.length-2],i=t[t.length-1];switch(e){case"line":case"area":t[0]="L";break;case"bezier":case"bezierarea":t[0]="C",t[1]=t[3]=t[5]=n,t[2]=t[4]=t[6]=i}}function ft(t,e,n){var i=t[t.length-1].slice(),r=t.length;for(ct(i,n);r<e.length;r++)t[r]=i.slice(0)}function dt(t,e,n){var i,r,s,o,a=t.length,l=e.length;if((a-1)%2==0&&(l-1)%2==0){i=(a-1)/2-1,s=(r=t.slice(0,i+1))[r.length-1].slice(0),o=t.slice(i+1)[0].slice(0),ct(s,n),ct(o,n);for(var h=i;h<(l-1)/2-1;h++)t.splice(h+1,0,s),t.splice(h+3,0,o)}}function pt(t,e){var n,i,r=t._styles,s="";for(n in e=e||{})i=e[n],y(i)&&(i+="number"!=typeof i||B[n]?"":"px",r[n]=""!==i?i:null);for(n in r)(i=r[n])&&(s+=n+":"+i+";");return s&&t.element.setAttribute("style",s),t}function gt(t,e){var n=t.element,i=t.attr(e);i&&-1!==i.indexOf("DevExpress")&&(n.removeAttribute(e),n.setAttribute(e,Z(i,t.renderer.pathModified)))}function mt(t,e){e=e||{};var n,i,r,s,o,a,l=t._settings,h={},u=t.element,c=t.renderer,f=c.rtl;if(!Q(e))return e in l?l[e]:e in W?W[e]:0;for(n in q(h,e),h)if(void 0!==(i=h[n])){if(l[n]=i,"align"===n)n="text-anchor",i={left:f?"end":"start",center:"middle",right:f?"start":"end"}[i]||null;else{if("dashStyle"===n){s=!0;continue}if(n===N)s=!0;else if(!i||"fill"!==n&&"clip-path"!==n&&"filter"!==n||-1===i.indexOf("DevExpress")){if(/^(translate(X|Y)|rotate[XY]?|scale(X|Y)|sharp)$/i.test(n)){r=!0;continue}/^(x|y|d)$/i.test(n)&&(r=!0)}else t._addFixIRICallback(),i=Z(i,c.pathModified)}null===i?u.removeAttribute(n):u.setAttribute(n,i)}if(s&&"dashStyle"in l)if(i=l.dashStyle,o=("_originalSW"in t?t._originalSW:l[N])||1,n="stroke-dasharray",""===(i=null===i?"":k(i))||"solid"===i||i===O)t.element.removeAttribute(n);else{for(a=(i=i.replace(/longdash/g,"8,3,").replace(/dash/g,"4,3,").replace(/dot/g,"1,3,").replace(/,$/,"").split(",")).length;a--;)i[a]=R(i[a])*o;t.element.setAttribute(n,i.join(","))}return r&&t._applyTransformation(),t}function vt(t){var e,n=this;return Q(t)&&(e=(t=q({},t)).segments,"points"in t&&(e=it(t.points,this.type),delete t.points),e&&(t.d=ht(e),this.segments=e,delete t.segments)),mt(this,t)}function _t(t){var e,n,i,r,s,o,a=this._settings;return Q(t)&&("x"in(t=q({},t))||"y"in t||"innerRadius"in t||"outerRadius"in t||"startAngle"in t||"endAngle"in t)&&(a.x=e="x"in t?t.x:a.x,delete t.x,a.y=n="y"in t?t.y:a.y,delete t.y,a.innerRadius=i="innerRadius"in t?t.innerRadius:a.innerRadius,delete t.innerRadius,a.outerRadius=r="outerRadius"in t?t.outerRadius:a.outerRadius,delete t.outerRadius,a.startAngle=s="startAngle"in t?t.startAngle:a.startAngle,delete t.startAngle,a.endAngle=o="endAngle"in t?t.endAngle:a.endAngle,delete t.endAngle,t.d=nt.apply(null,et(e,n,i,r,s,o))),mt(this,t)}function xt(t){var e,n,i,r,s,o,a,l=this;return Q(t)&&(void 0===(t=q({},t)).x&&void 0===t.y&&void 0===t.width&&void 0===t.height&&void 0===t[N]||(e=void 0!==t.x?this._originalX=t.x:this._originalX||0,n=void 0!==t.y?this._originalY=t.y:this._originalY||0,i=void 0!==t.width?this._originalWidth=t.width:this._originalWidth||0,r=void 0!==t.height?this._originalHeight=t.height:this._originalHeight||0,a=((s=void 0!==t[N]?this._originalSW=t[N]:this._originalSW)||0)<(o=~~((i<r?i:r)/2))?s||0:o,t.x=e+a/2,t.y=n+a/2,t.width=i-a,t.height=r-a,((s||0)!==a||0!==a||void 0!==s)&&(t[N]=a)),"sharp"in t&&delete t.sharp),mt(this,t)}function yt(t){var e,n,i,r,s=this;return Q(t)?(t=q({},t),e=this._settings,i=y(e[Y])&&y(e[N]),void 0!==t[F]&&(e[F]=t[F],delete t[F],n=!0),void 0!==t[Y]&&(e[Y]=t[Y],delete t[Y]),void 0!==t[N]&&(e[N]=t[N],delete t[N]),void 0!==t[H]&&(e[H]=t[H],delete t[H]),r=y(e[Y])&&y(e[N]),mt(this,t),(n=n||r!==i&&e[F])&&(Ht(this,e.text,r),this._hasEllipsis=!1),(n||void 0!==t.x||void 0!==t.y)&&Xt(this),r&&zt(this),this):mt(this,t)}function bt(t){return pt(this,t=t||{}),I in t&&Xt(this),this}function kt(t,e,n,r,s){var o,a,l,h,u;if(void 0!==n.wholeText)t.push({value:n.wholeText,style:r,className:s,line:e,height:r[I]||0});else if("BR"===n.tagName)++e;else if(i.isElementNode(n)){switch(q(o={},r),n.tagName){case"B":case"STRONG":o[L]="bold";break;case"I":case"EM":o[X]="italic";break;case"U":o[z]="underline"}for((a=n.style).color&&(o.fill=a.color),a.fontSize&&(o[I]=a.fontSize),a.fontStyle&&(o[X]=a.fontStyle),a.fontWeight&&(o[L]=a.fontWeight),a.textDecoration&&(o[z]=a.textDecoration),l=0,h=(u=n.childNodes).length;l<h;++l)e=kt(t,e,u[l],o,n.className||s)}return e}function Et(t){var e,n,i,r=t[0];for(e=1,n=t.length;e<n;++e)(i=t[e]).line===r.line?(r.height=Lt(r.height,i.height),r.inherits=r.inherits||0===C(i.height),i.height=NaN):r=i}function At(t){var e=/(?:(<[a-z0-9]+\s*))([\s\S]*?)(>|\/>)/gi,n=/(style|class)\s*=\s*(["'])(?:(?!\2).)*\2\s?/gi;return t.replace(e,(function(t,e,i,r){return e+(i=(i&&i.match(n)||[]).map((function(t){return t})).join(" "))+r}))}function wt(t){var e=[],n=i.createElement("div");return n.innerHTML=t.replace(/\r/g,"").replace(/\n/g,"<br/>"),kt(e,0,n,{},""),Et(e),e}function Rt(t){for(var e=t.replace(/\r/g,"").split(/\n/g),n=0,i=[];n<e.length;n++)i.push({value:e[n].trim(),height:0});return i}function Ct(t,e,n){var r,s,o;for(r=0,s=t.length;r<s;++r)(o=t[r])[n]=U("tspan"),o[n].appendChild(i.createTextNode(o.value)),o.style&&pt({element:o[n],_styles:{}},o.style),o.className&&o[n].setAttribute("class",o.className),e.appendChild(o[n])}function St(){this._hasEllipsis&&this.attr({text:this._settings.text})}function Mt(t){var e,n,i,r,s,o,a,l,h,u=this,c=!1;if(St.call(this),h=(l=this.renderer.text("...").attr(this._styles).append(this.renderer.root)).getBBox().width,this._getElementBBox().width>t)for(t-h<0?t=0:t-=h,n=0,i=(e=Ft(this.element,this._texts,t)).length;n<i;++n)if(r=e[n].parts,1!==e[n].commonLength)for(s=0,o=r.length;s<o;++s)a=r[s],y(a.endIndex)?(Yt(a,a.endIndex),c=!0):a.startBox>t&&Nt(a);return l.remove(),this._hasEllipsis=c,c}function Bt(t,e,n,i){var r,s;if(n<=e&&i>e)for(r=1,s=t.value.length;r<=s;++r)if(n+t.tspan.getSubStringLength(0,r)>e)return r-1}function Ft(t,e,n){var i,r,s,o,a,l=[];if(e)for(i=0,r=e.length;i<r;++i)l[(s=e[i]).line]?(s.startBox=o,l[s.line].parts.push(s),l[s.line].commonLength+=s.value.length):(s.startBox=o=0,l.push({commonLength:s.value.length,parts:[s]})),a=o+(s.value.length?s.tspan.getSubStringLength(0,s.value.length):0),s.endIndex=Bt(s,n,o,a),o=a;else(s={value:t.textContent,tspan:t}).startBox=o=0,a=s.value.length?o+s.tspan.getSubStringLength(0,s.value.length):0,s.endIndex=Bt(s,n,o,a),l=[{commonLength:t.textContent.length,parts:[s]}];return l}function Yt(t,e){var n=t.value.substr(0,e)+"...";t.tspan.textContent=n,t.stroke&&(t.stroke.textContent=n)}function Nt(t){t.tspan.parentNode.removeChild(t.tspan),t.stroke&&t.stroke.parentNode.removeChild(t.stroke)}function Ht(t,e,n){var r,s;t._texts=null,t.clear(),null!==e&&(e=""+e,t.renderer.encodeHtml||!/<[a-z][\s\S]*>/i.test(e)&&-1===e.indexOf("&")?/\n/g.test(e)?r=Rt(e):n&&(r=[{value:e.trim(),height:0}]):r=wt(s=At(e)),r?r.length&&(t._texts=r,n&&Ct(r,t.element,Y),Ct(r,t.element,"tspan")):t.element.appendChild(i.createTextNode(e)))}function It(t,e,n){t.tspan.setAttribute(e,n),t.stroke&&t.stroke.setAttribute(e,n)}function Xt(t){if(t._texts){var e,n,i=t._texts,r=t._settings.x,s=isNaN(C(t._styles[I]))?T:t._styles[I],o=i[0];for(It(o,"x",r),It(o,"y",t._settings.y),e=1,n=i.length;e<n;++e)o=i[e],C(o.height)>=0&&(It(o,"x",r),It(o,"dy",o.inherits?Lt(o.height,s):o.height||s))}}function Lt(t,e){var n=C(t),i=C(e),r=n||T,s=i||T;return r>s?isNaN(n)?r:t:isNaN(i)?s:e}function zt(t){if(t._texts){var e,n,i,r=t._texts,s=t._settings[Y],o=t._settings[N],a=t._settings[H]||1;for(n=0,i=r.length;n<i;++n)(e=r[n].stroke).setAttribute(Y,s),e.setAttribute(N,o),e.setAttribute(H,a),e.setAttribute("stroke-linejoin","round")}}function Ot(t,e,n,i){n=n||{};var r,s,o=t.renderer,a=t._settings,l={},h={translateX:0,translateY:0,scaleX:1,scaleY:1,rotate:0,rotateX:0,rotateY:0};if(i&&(n.complete=i),o.animationEnabled()){for(r in e)s=e[r],/^(translate(X|Y)|rotate[XY]?|scale(X|Y))$/i.test(r)?(l.transform=l.transform||{from:{},to:{}},l.transform.from[r]=r in a?Number(a[r].toFixed(3)):h[r],l.transform.to[r]=s):l[r]="arc"===r||"segments"===r?s:{from:r in a?a[r]:parseFloat(t.element.getAttribute(r)||0),to:s};o.animateElement(t,l,q(q({},o._animation),n))}else n.step&&n.step.call(t,1,1),n.complete&&n.complete.call(t),t.attr(e);return t}function Tt(t,e,n){var i,r,s=this,o=this.segments||[];return this.renderer.animationEnabled()&&"points"in t&&(r=ut(o,i=it(t.points,this.type),this.type),t.segments={from:o,to:i,end:r},delete t.points),Ot(this,t,e,n)}function Pt(t,e,n){var i=this,r=this._settings,s={from:{},to:{}};return this.renderer.animationEnabled()&&("x"in t||"y"in t||"innerRadius"in t||"outerRadius"in t||"startAngle"in t||"endAngle"in t)&&(s.from.x=r.x||0,s.from.y=r.y||0,s.from.innerRadius=r.innerRadius||0,s.from.outerRadius=r.outerRadius||0,s.from.startAngle=r.startAngle||0,s.from.endAngle=r.endAngle||0,s.to.x="x"in t?t.x:r.x,delete t.x,s.to.y="y"in t?t.y:r.y,delete t.y,s.to.innerRadius="innerRadius"in t?t.innerRadius:r.innerRadius,delete t.innerRadius,s.to.outerRadius="outerRadius"in t?t.outerRadius:r.outerRadius,delete t.outerRadius,s.to.startAngle="startAngle"in t?t.startAngle:r.startAngle,delete t.startAngle,s.to.endAngle="endAngle"in t?t.endAngle:r.endAngle,delete t.endAngle,t.arc=s),Ot(this,t,e,n)}function Wt(t,e){var n={is:!1,name:e.name||e,after:e.after};return t?n.to=t:n.virtual=!0,n}function $t(t,e,n){var i=this;this.renderer=t,this.element=U(e),this._settings={},this._styles={},"path"===e&&(this.type=n||"line")}function jt(t){te.remove(t)}function Dt(t,e){$t.call(this,t,"path",e)}function Gt(t){$t.call(this,t,"path","arc")}function Jt(t){$t.call(this,t,"rect")}function Qt(t){$t.call(this,t,"text"),this.css({"white-space":"pre"})}function Ut(t,e){var n,i;for(n=e;i=t[n];++n)i._link.i=n}function Zt(t,e){var n,i,r=e._links,s=t._link.after=t._link.after||e._linkAfter;if(s){for(n=0;(i=r[n])&&i._link.name!==s;++n);if(i)for(++n;(i=r[n])&&i._link.after===s;++n);}else n=r.length;r.splice(n,0,t),Ut(r,n)}function qt(t){var e,n=t._link.to._links;for(e=0;n[e]!==t;++e);n.splice(e,1),Ut(n,e)}function Kt(t){var e=this;this.root=this._createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",fill:O,stroke:O,"stroke-width":0}).attr({class:t.cssClass}).css({"line-height":"normal","-ms-user-select":O,"-moz-user-select":O,"-webkit-user-select":O,"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",display:"block",overflow:"hidden"}),this._init(),this.pathModified=!!t.pathModified,this._$container=n(t.container),this.root.append({element:t.container}),this.fixPlacement(),this._locker=0,this._backed=!1}function Vt(t,e){return"@"+t+"::"+e.step+":"+e.width+":"+e.opacity+":"+e.direction}e.SvgElement=$t,$t.prototype={constructor:$t,_getJQElement:function(){return this._$element||(this._$element=n(this.element))},_addFixIRICallback:function(){var t=this,e=function(){gt(t,"fill"),gt(t,"clip-path"),gt(t,"filter")};t.element._fixFuncIri=e,e.renderer=t.renderer,te.add(e),t._addFixIRICallback=function(){}},_clearChildrenFuncIri:function(){var t;(function t(e){var n;for(n=0;n<e.childNodes.length;n++)jt(e.childNodes[n]._fixFuncIri),t(e.childNodes[n])})(this.element)},dispose:function(){return jt(this.element._fixFuncIri),this._clearChildrenFuncIri(),this._getJQElement().remove(),this},append:function(t){return(t||this.renderer.root).element.appendChild(this.element),this},remove:function(){var t=this.element;return t.parentNode&&t.parentNode.removeChild(t),this},enableLinks:function(){return this._links=[],this},virtualLink:function(t){return Zt({_link:Wt(null,t)},this),this},linkAfter:function(t){return this._linkAfter=t,this},linkOn:function(t,e){return this._link=Wt(t,e),Zt(this,t),this},linkOff:function(){return qt(this),this._link=null,this},linkAppend:function(){var t,e,n=this._link,i=n.to._links;for(t=n.i+1;(e=i[t])&&!e._link.is;++t);return this._insert(n.to,e),n.is=!0,this},_insert:function(t,e){t.element.insertBefore(this.element,e?e.element:null)},linkRemove:function(){return this.remove(),this._link.is=!1,this},clear:function(){return this._clearChildrenFuncIri(),this._getJQElement().empty(),this},toBackground:function(){var t=this.element,e=t.parentNode;return e&&e.insertBefore(t,e.firstChild),this},toForeground:function(){var t=this.element,e=t.parentNode;return e&&e.appendChild(t),this},attr:function(t){return mt(this,t)},smartAttr:function(t){var e=this;return t.hatching&&"none"!==k(t.hatching.direction)?((t=q({},t)).fill=this._hatching=this.renderer.lockHatching(t.fill,t.hatching,this._hatching),delete t.hatching):this._hatching&&(this.renderer.releaseHatching(this._hatching),this._hatching=null),this.attr(t)},css:function(t){return pt(this,t)},animate:function(t,e,n){return Ot(this,t,e,n)},sharp:function(t){return this.attr({sharp:t||!0})},_applyTransformation:function(){var t,e,n,i,r=this._settings,s=[],o=r.sharp,a=r[N]%2,l=!a||"h"!==o&&!0!==o?0:.5,h=!a||"v"!==o&&!0!==o?0:.5;s.push("translate("+((r.translateX||0)+l)+","+((r.translateY||0)+h)+")"),r.rotate&&(n="rotateX"in r?r.rotateX:r.x,i="rotateY"in r?r.rotateY:r.y,s.push("rotate("+r.rotate+","+(n||0)+","+(i||0)+")")),t=y(r.scaleX),e=y(r.scaleY),(t||e)&&s.push("scale("+(t?r.scaleX:1)+","+(e?r.scaleY:1)+")"),s.length&&this.element.setAttribute("transform",s.join(" "))},move:function(t,e,n,i){var r={};return y(t)&&(r.translateX=t),y(e)&&(r.translateY=e),n?this.animate(r,i):this.attr(r),this},rotate:function(t,e,n,i,r){var s={rotate:t||0};return y(e)&&(s.rotateX=e),y(n)&&(s.rotateY=n),i?this.animate(s,r):this.attr(s),this},_getElementBBox:function(){var t,e=this.element;try{t=e.getBBox&&e.getBBox()}catch(n){}return t||{x:0,y:0,width:e.offsetWidth||0,height:e.offsetHeight||0}},getBBox:function(){var t=this._settings,e=this._getElementBBox();return e=t.rotate?A(e,[("rotateX"in t?t.rotateX:t.x)||0,("rotateY"in t?t.rotateY:t.y)||0],-t.rotate):E(e)},markup:function(){return h(this.element)},getOffset:function(){return this._getJQElement().offset()},stopAnimation:function(t){var e=this.animation;return e&&e.stop(t),this},setTitle:function(t){var e=U("title");e.textContent=t||"",this.element.appendChild(e)},data:function(t,e){var n,i=this.element;if(void 0!==e)i[t]=e;else for(n in t)i[n]=t[n];return this},on:function(){var t=[this._getJQElement()];return t.push.apply(t,arguments),a.on.apply(a,t),this},off:function(){var t=[this._getJQElement()];return t.push.apply(t,arguments),a.off.apply(a,t),this},trigger:function(){var t=[this._getJQElement()];return t.push.apply(t,arguments),a.trigger.apply(a,t),this}},e.PathSvgElement=Dt,Dt.prototype=P($t.prototype),q(Dt.prototype,{constructor:Dt,attr:vt,animate:Tt}),e.ArcSvgElement=Gt,Gt.prototype=P($t.prototype),q(Gt.prototype,{constructor:Gt,attr:_t,animate:Pt}),e.RectSvgElement=Jt,Jt.prototype=P($t.prototype),q(Jt.prototype,{constructor:Jt,attr:xt}),e.TextSvgElement=Qt,Qt.prototype=P($t.prototype),q(Qt.prototype,{constructor:Qt,attr:yt,css:bt,applyEllipsis:Mt,restoreText:St}),e.Renderer=Kt,Kt.prototype={constructor:Kt,_init:function(){var t=this;this._defs=this._createElement("defs").append(this.root),this._animationController=new u.AnimationController(this.root.element),this._animation={enabled:!0,duration:1e3,easing:"easeOutCubic"}},fixPlacement:function(){if(l.mozilla||l.msie){var t=V(this._$container.get(0)),e=K(t.left%1,2),n=K(t.top%1,2);l.msie?this.root.css({transform:"translate("+-e+"px,"+-n+"px)"}):l.mozilla&&this.root.move(-e,-n)}},removePlacementFix:function(){(l.mozilla||l.msie)&&(l.msie?this.root.css({transform:""}):l.mozilla&&this.root.attr({transform:null}))},setOptions:function(t){var e=this;return this.rtl=!!t.rtl,this.encodeHtml=!!t.encodeHtml,this.updateAnimationOptions(t.animation||{}),this.root.attr({direction:this.rtl?"rtl":"ltr"}),this},_createElement:function(t,n,i){var r=new e.SvgElement(this,t,i);return n&&r.attr(n),r},lock:function(){var t=this;return 0===this._locker&&(this._backed=!this._$container.is(":visible"),this._backed&&j(this.root)),++this._locker,this},unlock:function(){var t=this;return--this._locker,0===this._locker&&(this._backed&&(D(this.root,this._$container[0]),this.fixPlacement()),this._backed=!1),this},resize:function(t,e){return t>=0&&e>=0&&this.root.attr({width:t,height:e}),this},dispose:function(){var t,e=this;for(t in this.root.dispose(),this._defs.dispose(),this._animationController.dispose(),te.removeByRenderer(this),this)this[t]=null;return this},animationEnabled:function(){return!!this._animation.enabled},updateAnimationOptions:function(t){return q(this._animation,t),this},stopAllAnimations:function(t){return this._animationController[t?"lock":"stop"](),this},animateElement:function(t,e,n){return this._animationController.animateElement(t,e,n),this},svg:function(){this.removePlacementFix();var t=this.root.markup();return this.fixPlacement(),t},getRootOffset:function(){return this.root.getOffset()},onEndAnimation:function(t){this._animationController.onEndAnimation(t)},rect:function(t,n,i,r){var s;return new e.RectSvgElement(this).attr({x:t||0,y:n||0,width:i||0,height:r||0})},simpleRect:function(){return this._createElement("rect")},circle:function(t,e,n){return this._createElement("circle",{cx:t||0,cy:e||0,r:n||0})},g:function(){return this._createElement("g")},image:function t(e,n,i,r,s,o){var t=this._createElement("image",{x:e||0,y:n||0,width:i||0,height:r||0,preserveAspectRatio:tt[k(o)]||O});return t.element.setAttributeNS("http://www.w3.org/1999/xlink","href",s||""),t},path:function(t,n){var i;return new e.PathSvgElement(this,n).attr({points:t||[]})},arc:function(t,n,i,r,s,o){var a;return new e.ArcSvgElement(this).attr({x:t||0,y:n||0,innerRadius:i||0,outerRadius:r||0,startAngle:s||0,endAngle:o||0})},text:function(t,n,i){var r;return new e.TextSvgElement(this).attr({text:t,x:n||0,y:i||0})},linearGradient:function(t){var e,n=G(),i=this;return(e=i._createElement("linearGradient",{id:n}).append(i._defs)).id=n,t.forEach((function(t){i._createElement("stop",{offset:t.offset,"stop-color":t["stop-color"]}).append(e)})),e},pattern:function t(n,i,r){var s,o,t,a,l,h=this,u=(i=i||{}).step||6,c=u/2,f=1.5*u;return s=r||G(),o="right"===k(i.direction)?"M "+c+" "+-c+" L "+-c+" "+c+" M 0 "+u+" L "+u+" 0 M "+f+" "+c+" L "+c+" "+f:"M 0 0 L "+u+" "+u+" M "+-c+" "+c+" L "+c+" "+f+" M "+c+" "+-c+" L "+f+" "+c,t=this._createElement("pattern",{id:s,width:u,height:u,patternUnits:"userSpaceOnUse"}).append(this._defs),t.id=s,a=this.rect(0,0,u,u).attr({fill:n,opacity:i.opacity}).append(t),l=new e.PathSvgElement(this).attr({d:o,"stroke-width":i.width||1,stroke:n}).append(t),t},_getPointsWithYOffset:function(t,e){return t.map((function(t,n){return n%2!=0?t+e:t}))},clipRect:function(t,e,n,i){var r=this,s=G(),o=this._createElement("clipPath",{id:s}).append(this._defs),a=this.rect(t,e,n,i).append(o);return a.id=s,a.remove=function(){throw"Not implemented"},a.dispose=function(){return o.dispose(),o=null,this},a},shadowFilter:function(t,e,n,i,r,s,o,a,l){var h=this,u=G(),c=this._createElement("filter",{id:u,x:t||0,y:e||0,width:n||0,height:i||0}).append(this._defs),f=this._createElement("feGaussianBlur",{in:"SourceGraphic",result:"gaussianBlurResult",stdDeviation:o||0}).append(c),d=this._createElement("feOffset",{in:"gaussianBlurResult",result:"offsetResult",dx:r||0,dy:s||0}).append(c),p=this._createElement("feFlood",{result:"floodResult","flood-color":a||"","flood-opacity":l}).append(c),g=this._createElement("feComposite",{in:"floodResult",in2:"offsetResult",operator:"in",result:"compositeResult"}).append(c),m=this._createElement("feComposite",{in:"SourceGraphic",in2:"compositeResult",operator:"over"}).append(c);return c.id=u,c.gaussianBlur=f,c.offset=d,c.flood=p,c.composite=g,c.finalComposite=m,c.attr=function(t){var e=this,n={},i={},r={};return"x"in t&&(n.x=t.x),"y"in t&&(n.y=t.y),"width"in t&&(n.width=t.width),"height"in t&&(n.height=t.height),mt(this,n),"blur"in t&&this.gaussianBlur.attr({stdDeviation:t.blur}),"offsetX"in t&&(i.dx=t.offsetX),"offsetY"in t&&(i.dy=t.offsetY),this.offset.attr(i),"color"in t&&(r["flood-color"]=t.color),"opacity"in t&&(r["flood-opacity"]=t.opacity),this.flood.attr(r),this},c},brightFilter:function(t,e){var n=this,i=G(),r=this._createElement("filter",{id:i}).append(this._defs),s=this._createElement("feComponentTransfer").append(r),o={type:t,slope:e};return r.id=i,this._createElement("feFuncR",o).append(s),this._createElement("feFuncG",o).append(s),this._createElement("feFuncB",o).append(s),r},getGrayScaleFilter:function(){if(this._grayScaleFilter)return this._grayScaleFilter;var t=this,e=G(),n=this._createElement("filter",{id:e}).append(this._defs);return this._createElement("feColorMatrix").attr({type:"matrix",values:"0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 0.6 0"}).append(n),n.id=e,this._grayScaleFilter=n,n},initHatching:function(){var t,e=this._hatchingStorage=this._hatchingStorage||{byHash:{},baseId:G()},n=e.byHash;for(t in n)n[t].pattern.dispose();e.byHash={},e.refToHash={},e.nextId=0},lockHatching:function(t,e,n){var i,r,s=this._hatchingStorage,o=Vt(t,e);return s.refToHash[n]!==o&&(n&&this.releaseHatching(n),(i=s.byHash[o])||(r=this.pattern(t,e,s.baseId+"-hatching-"+s.nextId++),i=s.byHash[o]={pattern:r,count:0},s.refToHash[r.id]=o),++i.count,n=i.pattern.id),n},releaseHatching:function(t){var e=this._hatchingStorage,n=e.refToHash[t],i=e.byHash[n];i&&0==--i.count&&(i.pattern.dispose(),delete e.byHash[n],delete e.refToHash[t])}};var te=(ee=[],{add:function(t){ee.push(t)},remove:function(t){ee=ee.filter((function(e){return e!==t}))},removeByRenderer:function(t){ee=ee.filter((function(e){return e.renderer!==t}))},fire:function(){ee.forEach((function(t){t()}))}}),ee;e.refreshPaths=function(){te.fire()}}

