function module(t,e){"use strict";var i,n=p(t("../../events/core/events_engine")),s,o=p(t("../../events/utils")),a=t("../../core/utils/extend"),r,l=p(t("../translators/translator2d")),f=t("../../core/utils/type"),u=t("../../core/utils/common"),c,h=p(t("../../events/drag"));function p(t){return t&&t.__esModule?t:{default:t}}var d=Math.min,_=Math.max,v=2,g=function(t,e){this._translator=new l.default.Translator2D({},{},{}),this._scroll=t.rect().append(e),this._addEvents()};function m(t,e,i,n){var s=0;return"right"===e?s=t.width-t.right+i:"left"===e&&(s=t.left-i-n),s}function y(t,e,i,n){var s=0;return"top"===e?s=t.top-i:"bottom"===e&&(s=t.height-t.bottom+n+i),s}g.prototype={_addEvents:function(){var t=this,e=this._scroll.element;n.default.on(e,h.default.start,(function(t){o.default.fireEvent({type:"dxc-scroll-start",originalEvent:t,target:e})})),n.default.on(e,h.default.move,(function(i){var n=-i.offset.x*t._scale,s=-i.offset.y*t._scale,a=t._offset-(t._layoutOptions.vertical?s:n)/t._scale;t._applyPosition(a,a+t._translator.canvasLength/t._scale),o.default.fireEvent({type:"dxc-scroll-move",originalEvent:i,target:e,offset:{x:n,y:s}})})),n.default.on(e,h.default.end,(function(i){o.default.fireEvent({type:"dxc-scroll-end",originalEvent:i,target:e,offset:{x:-i.offset.x*t._scale,y:-i.offset.y*t._scale}})}))},update:function(t){var e=this,i=t.position,n=t.rotated,s=n?"right":"top",o;return i!==s&&i!==(n?"left":"bottom")&&(i=s),this._scroll.attr({rotate:t.rotated?0:-90,rotateX:0,rotateY:0,fill:t.color,width:t.width,opacity:t.opacity}),this._layoutOptions={width:t.width,offset:t.offset,vertical:n,position:i},this},init:function(t,e){var i=this,n="discrete"===t.axisType;return this._translateWithOffset=n&&!e?1:0,this._translator.update((0,a.extend)({},t,{minVisible:null,maxVisible:null,visibleCategories:null},n&&{min:null,max:null}||{}),this._canvas,{isHorizontal:!this._layoutOptions.vertical,stick:e}),this},getOptions:function(){return this._layoutOptions},setPane:function(t){var e,i=this._layoutOptions.position;return e="left"===i||"top"===i?t[0]:t[t.length-1],this.pane=e.name,this},updateSize:function(t){this._canvas=(0,a.extend)({},t);var e=this._layoutOptions,i=e.position,n=e.offset,s=e.width;this._scroll.attr({translateX:m(t,i,n,s),translateY:y(t,i,n,s)})},getMultipleAxesSpacing:function(){return 0},estimateMargins:function(){return this.getMargins()},getMargins:function(){var t=this._layoutOptions,e={left:0,top:0,right:0,bottom:0};return e[t.position]=t.width+t.offset,e},draw:u.noop,shift:u.noop,hideTitle:u.noop,hideOuterElements:u.noop,prepareAnimation:u.noop,setPosition:function(t,e){var i=this,n=this._translator,s=(0,f.isDefined)(t)?n.translate(t,-this._translateWithOffset):n.translate("canvas_position_start"),o=(0,f.isDefined)(e)?n.translate(e,this._translateWithOffset):n.translate("canvas_position_end");this._offset=d(s,o),this._scale=n.getScale(t,e),this._applyPosition(d(s,o),_(s,o))},dispose:function(){this._scroll.dispose(),this._scroll=this._translator=null},_applyPosition:function(t,e){var i,n=this,s=this._translator.getCanvasVisibleArea();t=_(t,s.min),t=d(t,s.max),e=d(e,s.max),e=_(e,s.min),i=Math.abs(e-t),this._scroll.attr({y:t,height:i<2?2:i})}},e.ScrollBar=g}

