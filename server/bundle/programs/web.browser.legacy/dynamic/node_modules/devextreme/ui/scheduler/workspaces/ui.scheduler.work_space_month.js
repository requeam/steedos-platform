function module(t,e,n){"use strict";var i=t("../../../core/renderer"),r=t("../../../core/utils/common").noop,a=t("../../../core/component_registrator"),o=t("./ui.scheduler.work_space.indicator"),s=t("../../../core/utils/date"),l=t("../../../localization/date"),u="dx-scheduler-work-space-month",h="dx-scheduler-date-table-current-date",c="dx-scheduler-date-table-first-of-month",g="dx-scheduler-date-table-other-month",D="dx-scheduler-scrollable-fixed-content",_=7,d=864e5,f=s.dateToMilliseconds,p=o.inherit({_toggleFixedScrollableClass:function(){this._dateTableScrollable.$content().toggleClass(D,!this._isWorkSpaceWithCount()&&!this._isVerticalGroupedWorkSpace())},_getElementClass:function(){return u},_getRowCount:function(){return this._isWorkSpaceWithCount()?4*this.option("intervalCount")+2:6},_getCellCount:function(){return 7},_getDateByIndex:function(t){var e=new Date(this._firstViewDate);return e.setDate(this._firstViewDate.getDate()+t),e},_getFormat:function(){return this._formatWeekday},_calculateCellIndex:function(t,e){return this._isVerticalGroupedWorkSpace()?t%=this._getRowCount():e%=this._getCellCount(),t*this._getCellCount()+e},_getInterval:function(){return 864e5},_getIntervalBetween:function(t){var e=this.getStartViewDate(),n=s.getTimezonesDifference(e,t);return t.getTime()-(e.getTime()-36e5*this.option("startDayHour"))-n},_getDateByCellIndexes:function(t,e){var n=this.callBase(t,e);return this._setStartDayHour(n),n},getCellWidth:function(){var t=7,e=0;return this._getCells().slice(0,7).each((function(t,n){return e+=n.getBoundingClientRect().width})),e/7},_calculateHiddenInterval:function(){return 0},_insertAllDayRowsIntoDateTable:function(){return!1},_getCellCoordinatesByIndex:function(t){var e=Math.floor(t/this._getCellCount()),n;return{rowIndex:e,cellIndex:t-this._getCellCount()*e}},_createWorkSpaceElements:function(){this._isVerticalGroupedWorkSpace()?this._createWorkSpaceScrollableElements():this.callBase()},_needCreateCrossScrolling:function(){return this.option("crossScrollingEnabled")||this._isVerticalGroupedWorkSpace()},_renderTimePanel:r,_renderAllDayPanel:r,_getTableAllDay:r,_toggleAllDayVisibility:r,_changeAllDayVisibility:r,_setFirstViewDate:function(){var t=s.getFirstMonthDate(this._getViewStartByOptions());this._firstViewDate=s.getFirstWeekDate(t,this.option("firstDayOfWeek")||l.firstDayOfWeekIndex()),this._setStartDayHour(this._firstViewDate);var e=this._getViewStartByOptions();this._minVisibleDate=new Date(e.setDate(1)),this._maxVisibleDate=new Date(new Date(e.setMonth(e.getMonth()+this.option("intervalCount"))).setDate(0))},_getViewStartByOptions:function(){if(this.option("startDate")){var t=this._getStartViewDate(),e=this.option("currentDate"),n=t.getTime()<=e.getTime()?1:-1,i=new Date(new Date(this._getStartViewDate().setMonth(this._getStartViewDate().getMonth()+n*this.option("intervalCount"))));for(n>0&&i.setDate(0);!this._dateInRange(e,t,i,n);)t=new Date(i),n>0&&(t.setDate(1),t.setMonth(t.getMonth()+1)),i=new Date(new Date(i.setMonth(i.getMonth()+n*this.option("intervalCount"))));return n>0?t:i}return new Date(this.option("currentDate").getTime())},_getStartViewDate:function(){var t;return s.getFirstMonthDate(this.option("startDate"))},_renderTableBody:function(t){t.getCellText=this._getCellText.bind(this),this.callBase(t)},_getCellText:function(t,e){this.option("groupByDate")?e=Math.floor(e/this._getGroupCount()):e%=this._getCellCount();var n=this._getDate(t,e);return this._isWorkSpaceWithCount()&&this._isFirstDayOfMonth(n)?this._formatMonthAndDay(n):l.format(n,"dd")},_formatMonthAndDay:function(t){var e;return[l.getMonthNames("abbreviated")[t.getMonth()],l.format(t,"day")].join(" ")},_getDate:function(t,e){var n=new Date(this._firstViewDate),i=this._getRowCount();return n.setDate(n.getDate()+t%i*7+e),n},_updateIndex:function(t){return t},_prepareCellData:function(t,e,n){var r=this.callBase(t,e,n),a;return i(n).toggleClass(h,this._isCurrentDate(r.startDate)).toggleClass(c,this._isFirstDayOfMonth(r.startDate)).toggleClass(g,this._isOtherMonth(r.startDate)),r},_isCurrentDate:function(t){var e=new Date;return s.sameDate(t,e)},_isFirstDayOfMonth:function(t){return this._isWorkSpaceWithCount()&&1===t.getDate()},_isOtherMonth:function(t){return!s.dateInRange(t,this._minVisibleDate,this._maxVisibleDate,"date")},needRenderDateTimeIndication:function(){return!1},getCellDuration:function(){return 36e5*this._calculateDayDuration()},getIntervalDuration:function(){return f("day")},getTimePanelWidth:function(){return 0},getPositionShift:function(t){return{cellPosition:t*this.getCellWidth(),top:0,left:0}},getCellCountToLastViewDate:function(t){var e=t.getTime(),n=this.getEndViewDate().getTime(),i=this.getCellDuration();return Math.ceil((n-e)/i)},supportAllDayRow:function(){return!1},keepOriginalHours:function(){return!0},calculateEndDate:function(t){var e=new Date(t);return new Date(e.setHours(this.option("endDayHour")))},getWorkSpaceLeftOffset:function(){return 0},applyGroupButtonOffset:function(){return!0},_getDateTableBorderOffset:function(){return this._getDateTableBorder()},_getCellPositionByIndex:function(t,e){var n,i=this.callBase(t,e),r=this._getCellCoordinatesByIndex(t).rowIndex;return(n=this._isVerticalGroupedWorkSpace()?this.getCellHeight()*(r+e*this._getRowCount()):this.getCellHeight()*r)&&(i.top=n),i},_getHeaderDate:function(){return this._getViewStartByOptions()},_supportCompactDropDownAppointments:function(){return!1},scrollToTime:r});a("dxSchedulerWorkSpaceMonth",p),n.exports=p}

