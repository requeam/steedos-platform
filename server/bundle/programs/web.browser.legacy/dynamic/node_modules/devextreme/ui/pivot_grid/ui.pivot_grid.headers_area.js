function module(t,e){"use strict";var r=t("../../core/renderer"),l=t("../../core/utils/type").isDefined,a=t("../../core/utils/array").inArray,o=t("../../core/utils/iterator").each,i=t("./ui.pivot_grid.area_item"),s="dx-pivotgrid-area",n="dx-pivotgrid-horizontal-headers",h="dx-pivotgrid-vertical-headers",d="dx-total",c="dx-grandtotal",u="dx-row-total",p="dx-pivotgrid-expanded",g="dx-pivotgrid-collapsed",f="dx-last-cell",_="dx-vertical-scroll",x="dx-expand-border";function m(t,e){if(e){var r=t.data().data,l=e.parentNode.rowIndex,a=e.cellIndex;return r[l]&&r[l][a]&&r[l][a].path}}e.HorizontalHeadersArea=i.AreaItem.inherit({_getAreaName:function(){return"column"},_getAreaClassName:function(){return n},_createGroupElement:function(){return r("<div>").addClass(this._getAreaClassName()).addClass("dx-pivotgrid-area")},_applyCustomStyles:function(t){var e=t.cssArray,r=t.cell,a=t.rowsCount,o=t.classArray;t.cellIndex===t.cellsCount-1&&e.push((t.rtlEnabled?"border-left:":"border-right:")+"0px"),r.rowspan!==a-t.rowIndex&&t.rowIndex+1!==a||e.push("border-bottom-width:0px"),"T"!==r.type&&"GT"!==r.type||o.push("dx-row-total"),"T"===t.cell.type&&o.push("dx-total"),"GT"===t.cell.type&&o.push("dx-grandtotal"),l(r.expanded)&&o.push(r.expanded?"dx-pivotgrid-expanded":"dx-pivotgrid-collapsed"),this.callBase(t)},_getMainElementMarkup:function(){return"<thead class='"+this._getAreaClassName()+"'>"},_getCloseMainElementMarkup:function(){return"</thead>"},setVirtualContentParams:function(t){this.callBase(t),this._setTableCss({left:t.left,top:0}),this._virtualContentWidth=t.width},hasScroll:function(){var t=this._virtualContent?this._virtualContentWidth:this._tableWidth;return!(!this._groupWidth||!t)&&t-this._groupWidth>=1},processScroll:function(){this._getScrollable()||this._groupElement.dxScrollable({useNative:!1,useSimulatedScrollbar:!1,showScrollbar:!1,bounceEnabled:!1,direction:"horizontal",updateManually:!0})},processScrollBarSpacing:function(t){var e=this,r=this.option("rtlEnabled")?"right":"left";this._groupWidth&&this.groupWidth(this._groupWidth-t),this._scrollBarWidth&&this._groupElement.next().remove(),this._groupElement.toggleClass("dx-vertical-scroll",t>0),this._groupElement.css("float",r).width(this._groupHeight),this._scrollBarWidth=t},ctor:function(t){this.callBase(t),this._scrollBarWidth=0},getScrollPath:function(t){var e,r=this.tableElement();return t-=parseInt(r[0].style.left,10)||0,o(r.find("td"),(function(r,l){if(1===l.colSpan&&l.offsetLeft<=t&&l.offsetWidth+l.offsetLeft>t)return e=l,!1})),m(r,e)},_moveFakeTable:function(t){this._moveFakeTableHorizontally(t),this.callBase()}}),e.VerticalHeadersArea=e.HorizontalHeadersArea.inherit({_getAreaClassName:function(){return h},_applyCustomStyles:function(t){this.callBase(t),t.cellIndex===t.cellsCount-1&&t.classArray.push("dx-last-cell"),t.rowIndex===t.rowsCount-1&&t.cssArray.push("border-bottom: 0px"),t.cell.isWhiteSpace&&t.classArray.push("dx-white-space-column")},_getAreaName:function(){return"row"},setVirtualContentParams:function(t){this.callBase(t),this._setTableCss({top:t.top,left:0}),this._virtualContentHeight=t.height},hasScroll:function(){var t=this._virtualContent?this._virtualContentHeight:this._tableHeight;return!(!this._groupHeight||!t)&&t-this._groupHeight>=1},processScroll:function(){this._getScrollable()||this._groupElement.dxScrollable({useNative:!1,useSimulatedScrollbar:!1,showScrollbar:!1,bounceEnabled:!1,direction:"vertical",updateManually:!0})},processScrollBarSpacing:function(t){var e=this;this._groupHeight&&this.groupHeight(this._groupHeight-t),this._scrollBarWidth&&this._groupElement.next().remove(),t&&this._groupElement.after(r("<div>").width("100%").height(t-1)),this._scrollBarWidth=t},getScrollPath:function(t){var e,r=this.tableElement();return t-=parseInt(r[0].style.top,10)||0,o(r.find("tr"),(function(r,l){var a=l.childNodes[l.childNodes.length-1];if(a&&1===a.rowSpan&&a.offsetTop<=t&&a.offsetHeight+a.offsetTop>t)return e=a,!1})),m(r,e)},_moveFakeTable:function(t){this._moveFakeTableTop(t),this.callBase()},_getRowClassNames:function(t,e,r){0!==t&e.expanded&&-1===a("dx-expand-border",r)&&r.push("dx-expand-border")},_getMainElementMarkup:function(){return"<tbody class='"+this._getAreaClassName()+"'>"},_getCloseMainElementMarkup:function(){return"</tbody>"},updateColspans:function(t){var e,r,l,a=this.tableElement()[0].rows,o=0,i=[];if(!(this.getColumnsCount()-t>0))for(r=0;r<a.length;r++)for(l=0;l<a[r].cells.length;l++){var s=a[r].cells[l],n=s.rowSpan;i[r]&&(o-=i[r],i[r]=0),e=t-(o+s.colSpan),l===a[r].cells.length-1&&e>0&&(s.colSpan=s.colSpan+e),i[r+n]=(i[r+n]||0)+s.colSpan,o+=s.colSpan}}})}

