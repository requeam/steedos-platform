function module(e,t,n){"use strict";var a,r=p(e("../../core/renderer")),i,o=p(e("../../events/core/events_engine")),l,s=p(e("../../events/click")),d=e("../../core/utils/type"),c=e("../../core/utils/extend"),u,m=p(e("../grid_core/ui.grid_core.sorting_mixin")),g,f=p(e("../../localization/message")),h=e("../../events/utils");function p(e){return e&&e.__esModule?e:{default:e}}var x="dxDataGridColumnHeadersView",v=(0,c.extend)({},m.default,{_createRow:function(e){var t=this,n=t.callBase(e);return"header"===e.rowType&&o.default.on(n,(0,h.addNamespace)(s.default.name,"dxDataGridColumnHeadersView"),"td",t.createAction((function(e){if((0,r.default)(e.event.currentTarget).parent().get(0)===n.get(0)){var a=null,i=e.event,o=(0,r.default)(i.currentTarget),l=o.parent().index(),s=-1;[].slice.call(t.getCellElements(l)).some((function(e,t){if(e===o.get(0))return s=t,!0}));var c,u=t._columnsController.getVisibleColumns(l)[s],m=t.getController("editing"),g=t.option("editing.mode"),f;!(m&&m.isEditing()&&("batch"===g||"cell"===g))&&t._isSortableElement((0,r.default)(i.target))&&(!u||(0,d.isDefined)(u.groupIndex)||u.command||(i.shiftKey?a="shift":i.ctrlKey&&(a="ctrl"),setTimeout((function(){t._columnsController.changeSortOrder(u.index,a)}))))}}))),n},_renderCellContent:function(e,t){var n=this,a=t.column;a.command||"header"!==t.rowType||this._applyColumnState({name:"sort",rootElement:e,column:a,showColumnLines:this.option("showColumnLines")}),this.callBase(e,t)},_columnOptionChanged:function(e){var t=e.changeTypes;1===t.length&&t.sorting?this._updateIndicators("sort"):this.callBase(e)},optionChanged:function(e){var t=this;switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}}),C=(0,c.extend)({},m.default,{_createGroupPanelItem:function(e,t){var n=this,a=n.callBase.apply(n,arguments);return o.default.on(a,(0,h.addNamespace)(s.default.name,"dxDataGridHeaderPanel"),n.createAction((function(){setTimeout((function(){n.getController("columns").changeSortOrder(t.index)}))}))),n._applyColumnState({name:"sort",rootElement:a,column:{alignment:n.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:"desc"===t.sortOrder?"desc":"asc"},showColumnLines:!0}),a},optionChanged:function(e){var t=this;switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}});n.exports={defaultOptions:function(){return{sorting:{mode:"single",ascendingText:f.default.format("dxDataGrid-sortingAscendingText"),descendingText:f.default.format("dxDataGrid-sortingDescendingText"),clearText:f.default.format("dxDataGrid-sortingClearText")}}},extenders:{views:{columnHeadersView:v,headerPanel:C}}}}

