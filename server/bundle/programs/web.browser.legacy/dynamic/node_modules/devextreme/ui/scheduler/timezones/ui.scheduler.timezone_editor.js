function module(e,i,t){"use strict";var a=e("../../../core/renderer"),n=e("../../../core/component_registrator"),o=e("../../../core/utils/extend").extend,s=e("../ui.scheduler.publisher_mixin"),d=e("../../../localization/message"),l=e("../../editor/editor"),r=e("../../select_box"),u="dx-timezone-editor",h="dx-timezone-display-name",c="dx-timezone-iana-id",m=l.inherit({_getDefaultOptions:function(){return o(this.callBase(),{value:null})},_createComponent:function(e,i,t){return t=t||{},this._extendConfig(t,{readOnly:this.option("readOnly")}),this.callBase(e,i,t)},_init:function(){this.callBase(),this.$element().addClass("dx-timezone-editor")},_render:function(){this._renderDisplayNameEditor(),this._renderIanaIdEditor(),this.callBase()},_renderDisplayNameEditor:function(){var e=d.format("dxScheduler-noTimezoneTitle"),i=this.invoke("getTimezoneDisplayNameById",this.option("value"))||e;this._displayNameEditor=this._renderSelectBox("dx-timezone-display-name",{items:[e].concat(this.invoke("getTimezonesDisplayName")),value:i,onOptionChanged:function(e){"value"===e.name&&this._processDisplayNameChanging(e.value)}.bind(this)})},_renderIanaIdEditor:function(){this._ianaIdEditor=this._renderSelectBox("dx-timezone-iana-id",{items:this._idsDataSource(),value:this.option("value"),onOptionChanged:function(e){"value"===e.name&&this.option("value",e.value)}.bind(this),valueExpr:"id",displayExpr:"displayName",disabled:this._calculateIanaIdEditorDisabledState()})},_renderSelectBox:function(e,i){i=i||{};var t=a("<div>").addClass(e),n=this._createComponent(t,r,i);return this.$element().append(t),n},_idsDataSource:function(){return this.invoke("getSimilarTimezones",this.option("value"))},_calculateIanaIdEditorDisabledState:function(){return!this.option("value")},_processDisplayNameChanging:function(e){var i=this.invoke("getTimezonesIdsByDisplayName",e),t=i.length?i[0].id:null;this.option("value",t),this._ianaIdEditor.option({value:t,items:this._idsDataSource(i),disabled:this._calculateIanaIdEditorDisabledState()})},_optionChanged:function(e){var i=e.value;switch(e.name){case"value":this._ianaIdEditor.option({value:i,items:this._idsDataSource()}),i?this._displayNameEditor.option("value",this.invoke("getTimezoneDisplayNameById",i)):this._displayNameEditor.option("value",d.format("dxScheduler-noTimezoneTitle")),this.callBase(e);break;case"readOnly":this._displayNameEditor&&this._displayNameEditor.option("readOnly",i),this._ianaIdEditor&&this._ianaIdEditor.option("readOnly",i);break;default:this.callBase(e)}}}).include(s);n("dxSchedulerTimezoneEditor",{},m),t.exports=m}

