function module(n,r){"use strict";var t=function(){function n(n,r){var t=[],e=!0,i=!1,u=void 0;try{for(var o,c=n[Symbol.iterator]();!(e=(o=c.next()).done)&&(t.push(o.value),!r||t.length!==r);e=!0);}catch(a){i=!0,u=a}finally{try{!e&&c.return&&c.return()}finally{if(i)throw u}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return n(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=n("../core/utils"),i,u=f(n("../../core/utils/date")),o=n("../../core/utils/type"),c=n("../../core/utils/math"),a=n("../../core/utils/extend");function f(n){return n&&n.__esModule?n:{default:n}}var s=u.default.convertDateUnitToMilliseconds,l=u.default.dateToMilliseconds,v=Math,d=v.abs,m=v.floor,g=v.ceil,k=v.pow,h=[1,2,2.5,5],p=[1,2,3,5],y={millisecond:[1,2,5,10,25,50,100,250,500],second:[1,2,3,5,10,15,20,30],minute:[1,2,3,5,10,15,20,30],hour:[1,2,3,4,6,8,12],day:[1,2],week:[1,2],month:[1,2,3,6]},D=(0,a.extend)({},y,{day:[1]}),T={millisecond:[1,2,5,10,25,50,100,250,500],second:[1,2,3,5,10,15,20,30],minute:[1,2,3,5,10,15,20,30],hour:[1,2,3,4,6,8,12],day:[1,2,3,7,14],month:[1,2,3,6]},x=[2,4,5,8,10],b=3,M=6e4;function O(n){return function(r,t,e,i){var u=m(t/n.axisDivisionFactor),o=t/(u=u<1?1:u);return{ticks:o>0?Array.apply(null,new Array(u+1)).map((function(n,r){return o*r})):[],tickInterval:o}}}function S(n){return function(r,t,i,u){var o=(0,e.getCategoriesInfo)(r.categories,r.min,r.max).categories;return{ticks:o,tickInterval:g(o.length*n.axisDivisionFactor/t)}}}var I=function(n){return n},L=function(n){return function(r){return(0,e.getLog)(r,n)}},w=function(n){return function(r){return k(n,r)}},j=function(n,r,t){return function(e,i){return(0,c.adjust)(n(r((0,c.adjust)(t(e)/i))*i))}};function F(n,r,t,e){return(0,o.isDefined)(e)?e?n:r:function(e,i,u,c){var a=n(e,i);return e-a==0||!(0,o.isDefined)(u)||t(e,a,i,u)||c?a:r(e,i)}}function z(n,r,t,i){var u=t-d(r-n),o=v.max(g(i.businessDelta/t),2),c=i.screenDelta/(o*t),a=v.round(c*u),f=(0,e.getLog)(c*t/i.axisDivisionFactor,2)+1,s=(i.isSpacedMargin?2:1)*f,l=v.round(b*s);return i.businessDelta>i.interval&&a>=l}function A(n){return function(r,t,i,u){return z((0,e.getLog)(r,n),(0,e.getLog)(t,n),i,u)}}function C(n,r,t,e){return z(n.valueOf(),r.valueOf(),l(t),e)}function W(n,r,t,e,i){var u=e.screenDelta/e.businessDelta,o,c;return n&&u*(r*(i?1:-1)+t*(i?-1:1))<b}function B(n){return function(r,t,i,u,o){return W(r,(0,e.getLog)(t,n),(0,e.getLog)(i,n),u,o)}}function E(n,r,t,e,i){return W(n,r.valueOf(),t.valueOf(),e,i)}function G(n,r){var t=0;return r&&(t=r.reduce((function(n,r){return n+(r.to-r.from)}),0)),d(n.max-n.min-t)}function U(n){var r=L(n);return function(n,t){var e=0;return t&&(e=t.reduce((function(n,t){return n+d(r(t.to/t.from))}),0)),g(d(r(n.max/n.min))-e)}}function q(n,r,t,e){var i=r/t-(e||0);return n/(i=i<1?1:i)}function H(n,r){return k(10,m((0,e.getLog)(n,10))+(r||0))}function N(n,r,t,e,i,u,o,c,a,f){var s=q(n,r,i,c),l=1,v=!1===o;return e&&t||((s>=1||!v&&s>0)&&(l=V(s,u,v)),(!t||!e&&t<l)&&(t=l)),!e&&f&&(f=V(f,u,v))>t&&(t=f),t}function V(n,r,t){var e=H(n,-1),i=1;return r=r||h,n>0&&(n/=e,i=r.concat(10*r[0]).map((function(n){return 10*n})).reduce((function(r,i){return.1===e&&t&&25===i?r:r<n?i:r}),0),i=(0,c.adjust)(i*e,e)),i}function Y(n,r,t,e){var i=q(n,r,e);return t||x.reduce((function(r,t){var e=n/t;return e>=i?e:r}),0)}function _(n){return function(r,t,e,i,u,o,c,a,f,s){var l=q(r,t,u),v=0,d=J(n);return i&&e||(l>0&&(v=d(l,o)),(!e||!i&&e<v)&&(e=v)),!i&&s&&(s=d(s,o))>e&&(e=s),e}}function J(n){return function(r,t){var e=H(r);return!n&&e<1&&(e=1),(t=t||p).concat(10*t[0]).reduce((function(n,t){return n<r?t*e:n}),0)}}function K(n){return n&&n>2?D:y}function P(n,r){return function(t,e){return!t&&n<=s(r,e)&&((t={})[r+"s"]=e),t}}function Q(n,r){return function(t,e){var i=r*e;return!t&&n<=s("year",i)&&2.5!==i&&(t={years:i}),t}}function R(n,r,t,e,i,u,o,c,a,f){if(!e||!t){var s=X(q(n,r,i),u,null,a);(!t||!e&&l(t)<=l(s))&&(t=s)}return!e&&f&&(f=X(f,u,null,a),l(f)>l(t)&&(t=f)),t}function X(n,r,t,e){var i=void 0;for(var u in r=r||K(e))if(i=r[u].reduce(P(n,u),i))break;if(!i)for(var o=1;!(i=h.reduce(Q(n,o),i));o*=10);return i}function Z(n,r,t,e){return R(n,r,t,!0,e,T)}function $(n,r){return function(t){return t&&r(d((0,c.adjust)(n(t[1])-n(t[0]))))||void 0}}function nn(n,r,t){return u.default.addInterval(n,r,t)}function rn(n){return function(r,t,i){return w(n)(nn((0,e.getLog)(r,n),t,i))}}function tn(n,r,t){return nn(n,r,t)}function en(n,r,t){return r=r.filter((function(n){return!n.gapSize})),function(e,i,u){var o=void 0;return e=n(e,i,u),r.every((function(r){return e>=n(r.from,i)&&n(e,i)<r.to&&(o=r.to-r.from-2*(n(r.from,i)-r.from)),!o}))||(e=t(n(e,o),i)),e}}function un(n,r,t,e,i){return function(u,c,a,f,s,l,v,d,m){var g=an(n,f),k=u.min,h=u.max,p={screenDelta:v,businessDelta:l,axisDivisionFactor:d,isSpacedMargin:u.isSpacedMargin,interval:c},y=r(k,c,p),D=[];s&&s.length&&(n=en(n,s,r)),y>h&&(y=r(k,t(l/2),p))>h&&(y=r(k,c,p,a=!0)),y=g(y);for(var T=void 0;y<h&&y!==T||m&&y<=h;)D.push(y),T=y,y=g(n(y,c));return(a||y-h==0||!(0,o.isDefined)(a)&&e(h,y,c,p))&&D.push(y),D.length>0&&(D[0].valueOf()>0&&i(u.checkMinDataVisibility,k,D[0],p,!0)?(y=n(D[0],c,!0),D.unshift(y)):D[D.length-1].valueOf()<0&&i(u.checkMaxDataVisibility,h,D[D.length-1],p,!1)&&(y=n(D[D.length-1],c),D.push(y))),D}}function on(n,r,t,e,i){return function(u,o,c,a,f,s,l){var v=f/a,d=c[c.length-1],m=c[0],g=l-1;if(s&&s.length&&(r=en(r,s,t)),0===(a=n(a,m,v)))return[];for(var k=e(t(u,f,u),a),h=[];k<m&&(!g||g>0);)k>=u&&h.push(k),g--,k=r(k,a);var p=c.reduce((function(t,i){if(g=l-1,null===t.prevTick)return t.prevTick=i,t;a=n(a,i,v);for(var u=e(t.prevTick,a);u<i&&(!g||g>0);)u!==t.prevTick&&t.minors.push(u),g--,u=r(u,a);return t.prevTick=i,t}),{prevTick:null,minors:[]});h=h.concat(p.minors),a=n(a,i(o,f,u),v),k=e(d,a);for(var y=void 0;k<o&&k!==y;)h.push(k),y=k,k=r(k,a);return d-o!=0&&k-o==0&&h.push(k),h}}function cn(n,r){if(r.length){var t=r.reduce((function(r,t){var e=[],i=void 0;for(i=r[1];i<n.length;i++){var u=n[i];if(u<t.from&&e.push(u),u>=t.to)break}return[r[0].concat(e),i]}),[[],0]);return t[0].concat(n.slice(t[1]))}return n}function an(n,r){return function(t){var e=void 0;return r.every((function(n){return t>=n.from&&t<n.to&&(e=n.gapSize),!e}))||(t=n(t,e)),t}}function fn(n,r,t,e,i,u,o,c,a,f){function s(n){return{tickInterval:i(n.majors),ticks:n.majors||[],minorTickInterval:u(n.minors),minorTicks:n.minors||[]}}function l(r,t,e){return r&&t/o(r)>=e+1&&(n.incidentOccurred("W2003"),r=void 0),r}function v(r,e,i,u,o,a,s,v){if(s.majors)return r.breaks=v,r;var d=v.filter((function(n){return n.gapSize})),m=void 0;return o=n.skipCalculationLimits?o:l(o,i,u),o=t(i,u,o,a,n.axisDivisionFactor,n.numberMultipliers,n.allowDecimals,v.length,d[0]&&d[0].gapSize.days,n.minTickInterval),n.skipTickGeneration||(m=cn(m=c(e,o,n.endOnTick,d,v,i,u,n.axisDivisionFactor,n.generateExtraTick),v=f(v,m,o)),r.breaks=v,r.ticks=r.ticks.concat(m)),r.tickInterval=o,r}function d(r,t,i,c,f,s,v){if(!n.calculateMinors)return r;if(v.minors)return r;var d=o(r.tickInterval),m=c*d/i,g=r.breaks;return!f&&s?f=u([d/(s+1),d/(s+1)*2]):s=void 0,f=l(f,d,m),f=e(d,m,f,n.minorAxisDivisionFactor),r.minorTicks=cn(r.minorTicks.concat(a(t.min,t.max,r.ticks,f,r.tickInterval,g,s)),g),r.minorTickInterval=f,r}return function(t,e,i,u,o,c,a,f){o=o||{};var l=r(t,f),m=s(o);return isNaN(l)||(0!==l||o.majors?(m=v(m,t,l,e,i,u,o,f||[]),!n.skipTickGeneration&&l>0&&(m=d(m,t,l,e,c,a,o))):m.ticks=[t.min]),m}}function sn(n,r,e,i){var u=t(r,2),c=u[0],a=u[1];return(!(0,o.isDefined)(c)||d(i(n)-i(c))/e>.25)&&((0,o.isDefined)(a)?c=a:(0,o.isDefined)(c)||(c=n)),c}function ln(n,r,t){return function(e,i,u){var o=n(u),c=.5*o;return e.reduce((function(n,e){var u=i.filter((function(n){return n<=e.from})),a=t(sn(e.from,[].concat(u[u.length-1],i[u.length]),o,r),c);u=i.filter((function(n){return n>=e.to}));var f=t(sn(e.to,[].concat(u[0],i[i.length-u.length-1]),o,r),-c);return r(f)-r(a)<o&&!e.gapSize?n:e.gapSize?n.concat([e]):n.concat([{from:a,to:f,cumulativeWidth:e.cumulativeWidth}])}),[])}}function vn(n){var r=j(I,m,I),t=j(I,g,I),e=$(I,I);return fn(n,G,N,Y,e,e,I,un(nn,F(r,t,z,n.endOnTick),V,z,W),on(I,nn,r,nn,I),ln(I,I,(function(n,r){return n+r})))}function dn(n){var r=n.logBase,t=w(r),e=L(r),i=j(t,m,e),u=j(t,g,e),o=j(I,g,I);return fn(n,U(r),_(n.skipCalculationLimits),Y,$(e,I),$(I,I),I,un(rn(r),F(i,u,A(r),n.endOnTick),J(n.skipCalculationLimits),A(r),B(r)),on((function(n,r,t){return r/t}),nn,i,o,u),ln(I,e,(function(n,r){return t(e(n)+r)})))}function mn(n){function r(r,t){var e=j(I,m,I),i=(0,o.isString)(t)?u.default.getDateIntervalByString(t.toLowerCase()):t,c=l(t);(i.days%7==0||t.quarters)&&(i=X(c));var a=function(r){return u.default.correctDateWithUnitBeginning(r,i,null,n.firstDayOfWeek)},f=function(n){return new Date(m((n.getTime()-n.getTimezoneOffset()*M)/c)*c+n.getTimezoneOffset()*M)};return r=a(r),"years"in i?r.setFullYear(e(r.getFullYear(),i.years,0)):"quarters"in i?r=a(f(r)):"months"in i?r.setMonth(e(r.getMonth(),i.months,0)):"weeks"in i||"days"in i?r=a(f(r)):"hours"in i?r.setHours(e(r.getHours(),i.hours,0)):"minutes"in i?r.setMinutes(e(r.getMinutes(),i.minutes,0)):"seconds"in i?r.setSeconds(e(r.getSeconds(),i.seconds,0)):"milliseconds"in i&&(r=f(r)),r}function t(n,t){for(var e=r(n,t);n-e>0;)e=tn(e,t);return e}var e=$(I,u.default.convertMillisecondsToDateUnits);return fn(n,G,R,Z,e,e,l,un(tn,F(r,t,C,n.endOnTick),X,C,E),on(I,tn,r,tn,I),ln(l,I,(function(n,r){return new Date(n.getTime()+r)})))}r.tickGenerator=function(n){var r=void 0;return r=n.rangeIsEmpty?O(n):"discrete"===n.axisType?S(n):"logarithmic"===n.axisType?dn(n):"datetime"===n.dataType?mn(n):vn(n)}}

