function module(e,t){"use strict";var r=e("../../core/utils/object"),n=e("../../core/utils/extend").extend,i=e("./scatter_series").chart,a=e("./line_series"),o=a.chart.line,s=a.polar.line,l=e("../core/utils").map,c=n,u=a.chart.spline._calculateBezierPoints;t.chart={},t.polar={};var h={_createBorderElement:o._createMainElement,_createLegendState:function(e,t){return{fill:e.color||t,opacity:e.opacity,hatching:e.hatching}},getValueRangeInitialValue:function(){return"logarithmic"!==this.valueAxisType&&"datetime"!==this.valueType&&!1!==this.showZero?0:i.getValueRangeInitialValue.call(this)},_getDefaultSegment:function(e){var t=o._getDefaultSegment(e);return t.area=t.line.concat(t.line.slice().reverse()),t},_updateElement:function(e,t,r,n){var i={points:t.line},a={points:t.area},o=e.line;r?(o&&o.animate(i),e.area.animate(a,{},n)):(o&&o.attr(i),e.area.attr(a))},_removeElement:function(e){e.line&&e.line.remove(),e.area.remove()},_drawElement:function(e){return{line:this._bordersGroup&&this._createBorderElement(e.line,{"stroke-width":this._styles.normal.border["stroke-width"]}).append(this._bordersGroup),area:this._createMainElement(e.area).append(this._elementsGroup)}},_applyStyle:function(e){var t=this;this._elementsGroup&&this._elementsGroup.smartAttr(e.elements),this._bordersGroup&&this._bordersGroup.attr(e.border),(this._graphics||[]).forEach((function(t){t.line&&t.line.attr({"stroke-width":e.border["stroke-width"]}).sharp()}))},_parseStyle:function(e,t,r){var n=e.border||{},i=o._parseLineOptions(n,r);return i.stroke=n.visible&&i["stroke-width"]?i.stroke:"none",i["stroke-width"]=i["stroke-width"]||1,{border:i,elements:{stroke:"none",fill:e.color||t,hatching:e.hatching,opacity:e.opacity}}},_areBordersVisible:function(){var e=this._options;return e.border.visible||e.hoverStyle.border.visible||e.selectionStyle.border.visible},_createMainElement:function(e,t){return this._renderer.path(e,"area").attr(t)},_getTrackerSettings:function(e){return{"stroke-width":e.singlePointSegment?this._defaultTrackerWidth:0}},_getMainPointsFromSegment:function(e){return e.area}};function p(e){return l(e,(function(e){return e.getCoords()})).concat(l(e.slice().reverse(),(function(e){return e.getCoords(!0)})))}var _=t.chart.area=c({},o,h,{_prepareSegment:function(e,t){var r=this._processSinglePointsAreaSegment(e,t);return{line:r,area:p(r),singlePointSegment:r!==e}},_processSinglePointsAreaSegment:function(e,t){if(e&&1===e.length){var n=e[0],i=r.clone(n);return i[t?"y":"x"]+=1,i.argument=null,[n,i]}return e}});t.polar.area=c({},s,h,{_prepareSegment:function(e,t,r){return r&&s._closeSegment.call(this,e),_._prepareSegment.call(this,e)},_processSinglePointsAreaSegment:function(e){return a.polar.line._prepareSegment.call(this,e).line}}),t.chart.steparea=c({},_,{_prepareSegment:function(e,t){var r=a.chart.stepline;return e=_._processSinglePointsAreaSegment(e,t),_._prepareSegment.call(this,r._calculateStepLinePoints(e))}}),t.chart.splinearea=c({},_,{_areaPointsToSplineAreaPoints:function(e){var t=e[e.length/2-1],r=e[e.length/2];e.splice(e.length/2,0,{x:t.x,y:t.y},{x:r.x,y:r.y})},_prepareSegment:function(e,t){var r=_._processSinglePointsAreaSegment(e,t),n=_._prepareSegment.call(this,u(r,t));return this._areaPointsToSplineAreaPoints(n.area),n.singlePointSegment=r!==e,n},_getDefaultSegment:function(e){var t=_._getDefaultSegment(e);return this._areaPointsToSplineAreaPoints(t.area),t},_createMainElement:function(e,t){return this._renderer.path(e,"bezierarea").attr(t)},_createBorderElement:a.chart.spline._createMainElement})}

