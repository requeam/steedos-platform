function module(t,i){"use strict";var e=t("../../core/utils/common").noop,n=t("../../core/utils/iterator").each,r=t("./scatter_series"),o=t("../core/utils"),s=t("../../core/utils/extend").extend,a=r.chart,l=t("./bar_series").chart.bar,u=s,c=n,h=e,p=o.map,_=isFinite,g=Math.max,f=.7,m="inside";i.pie=u({},l,{_setGroupsSettings:a._setGroupsSettings,_createErrorBarGroup:h,_drawPoint:function(t){var i=t.point,e=this._legendCallback;a._drawPoint.call(this,t),!i.isVisible()&&i.setInvisibility(),i.isSelected()&&e()},_getOldPoint:function(t,i,e){var n=(this._points||[])[e];return n&&(i[n.argument]=i[n.argument].filter((function(t){return t!==n}))),n},adjustLabels:function(t){(this._points||[]).forEach((function(i){i._label.isVisible()&&(i.setLabelTrackerData(),i.setLabelEllipsis(t),i.updateLabelCoord(t))}))},_applyElementsClipRect:h,getColor:h,areErrorBarsVisible:h,drawLabelsWOPoints:function(){var t=this;return this._options.label.position!==m&&(this._labelsGroup.append(this._extGroups.labelsGroup),(this._points||[]).forEach((function(t){t.drawLabel()})),!0)},getPointsCount:function(){var t=this;return this._data.filter((function(i){return t._checkData(i)})).length},setMaxPointsCount:function(t){this._pointsCount=t},_getCreatingPointOptions:function(t,i){return this._getPointOptions(t,i)},_updateOptions:function(t){this.labelSpace=0,this.innerRadius="pie"===this.type?0:t.innerRadius},_checkData:function(t,i){var e=l._checkData.call(this,t,i,{value:this.getValueFields()[0]});return this._options.paintNullPoints?e:e&&null!==t.value},_createGroups:a._createGroups,_setMarkerGroupSettings:function(){var t=this;this._markersGroup.attr({class:"dxc-markers"})},_getMainColor:function(t,i){var e=this.getPointsByArg(t.argument),n=i?e.indexOf(i):e.length;return this._options.mainSeriesColor(t.argument,n,this._pointsCount)},_getPointOptions:function(t){return this._parsePointOptions(this._preparePointOptions(),this._options.label,t)},_getRangeData:function(){return this._rangeData},_createPointStyles:function(t,i,e){var n=this,r=t.color||this._getMainColor(i,e);return{normal:this._parsePointStyle(t,r,r),hover:this._parsePointStyle(t.hoverStyle,r,r),selection:this._parsePointStyle(t.selectionStyle,r,r),legendStyles:{normal:this._createLegendState(t,r),hover:this._createLegendState(t.hoverStyle,r),selection:this._createLegendState(t.selectionStyle,r)}}},_getArrangeMinShownValue:function(t,i){var e=this._options.minSegmentSize,n=0,r=0;return i=i||t.length,c(t,(function(t,o){o.isVisible()&&(o.normalInitialValue<e*i/360?n+=e:r+=o.normalInitialValue)})),n<360?e*r/(360-n):0},_applyArrangeCorrection:function(t,i,e){var n,r=this._options,s="anticlockwise"!==r.segmentsDirection,a=_(r.startAngle)?o.normalizeAngle(r.startAngle):0,l=r.minSegmentSize,u=0,h=0;0===e&&(e=t.filter((function(t){return t.isVisible()})).length,h=1),c(s?t:t.concat([]).reverse(),(function(t,r){var o,s=r.isVisible()?h||r.normalInitialValue:0;l&&r.isVisible()&&s<i&&(o=i),n=s/e,r.correctValue(u,n,h+(o||0)),r.shiftedAngle=a,u+=o||s})),this._rangeData={val:{min:0,max:u}}},_removePoint:function(t){var i=this.getPointsByArg(t.argument);i.splice(i.indexOf(t),1),t.dispose()},arrangePoints:function(){for(var t,i,e,n,r=this,o=r._points||[],s=r._options.minSegmentSize,a=!0,l=0,u=o.length;l<u&&a;)a=o[l].value<=0,l++;e=r._points=p(o,(function(t){return null===t.value||!a&&t.value<0?(r._removePoint(t),null):t})),n=e.reduce((function(t,i){return g(t,Math.abs(i.initialValue))}),0),e.forEach((function(t){t.normalInitialValue=t.initialValue/(0!==n?n:1)})),i=e.reduce((function(t,i){return t+(i.isVisible()?i.normalInitialValue:0)}),0),s&&(t=this._getArrangeMinShownValue(e,i)),r._applyArrangeCorrection(e,t,i)},correctPosition:function(t,i){c(this._points,(function(i,e){e.correctPosition(t)})),this.setVisibleArea(i)},correctRadius:function(t){this._points.forEach((function(i){i.correctRadius(t)}))},correctLabelRadius:function(t){this._points.forEach((function(i){i.correctLabelRadius(t)}))},setVisibleArea:function(t){this._visibleArea={minX:t.left,maxX:t.width-t.right,minY:t.top,maxY:t.height-t.bottom}},_applyVisibleArea:h,_animate:function(t){var i,e=this,n=e._points,r=n&&n.length,o=function(){e._animateComplete()};i=t?function(t,i){t.animate(i===r-1?o:void 0,.7,(1-.7)*i/(r-1))}:function(t,i){t.animate(i===r-1?o:void 0)},n.forEach(i)},getVisiblePoints:function(){return p(this._points,(function(t){return t.isVisible()?t:null}))},getPointsByKeys:function(t,i){var e=this.getPointsByArg(t);return e[i]&&[e[i]]||[]}}),i.doughnut=i.donut=i.pie}

