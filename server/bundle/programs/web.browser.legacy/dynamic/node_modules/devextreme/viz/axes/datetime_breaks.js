function module(t,e){"use strict";var r=t("../../core/utils/date"),n=[0,1,2,3,4,5,6];function o(t){return n.filter((function(e){return!t.some((function(t){return t===e}))}))}function u(t){return(t+1)%7}function a(t,e){for(var r=t.start,n=t.end;r!==n;){if(r===e)return!0;r=u(r)}return!1}function i(t,e){for(var r=0;t!==e;)t=u(t),r++;return r}function f(t,e){var r=[],n=new Date(e);return n.setDate(e.getDate()+1),e>t.from&&r.push({from:t.from,to:e}),n<t.to&&r.push({from:n,to:t.to}),r}function c(t){var e=o(t);if(e.length<7)for(;u(e[e.length-1])===e[0];)e.unshift(e.pop());return e}function s(t,e,n){var o=t.getDate(),f=[],c;return n.reduce((function(t,e){var r=t[1];return void 0===r.start?(r={start:e,end:u(e)},t[0].push(r),[t[0],r]):r.end===e?(r.end=u(e),t):(r={start:e,end:u(e)},t[0].push(r),[t[0],r])}),[[],{}])[0].forEach((function(n){var u=new Date(t);for(u=r.trimTime(u);u<e;){o=u.getDay();var c=u.getDate();if(a(n,o)){var s,m=new Date(u);u.setDate(c+i(o,n.end)),s=new Date(u),f.push({from:m,to:s})}u.setDate(u.getDate()+1)}})),f}function m(t,e){var n,o=t.slice(),u=function(t){if(t=r.trimTime(new Date(t)),o[n].from<=t&&o[n].to>t){var e=f(o[n],t);2===e.length?o.splice(n,1,e[0],e[1]):1===e.length?o.splice(n,1,e[0]):o.splice(n,1)}};for(n=0;n<o.length;n++)e.forEach(u);return o}function D(t,e,n,o){var u,a=function(t){return t===u},i=r.trimTime(t),f=r.trimTime(e);return f.setDate(e.getDate()+1),n.reduce((function(t,e){var n,c;return e=new Date(e),u=e.getDay(),!o.some(a)&&e>=i&&e<=f&&(n=r.trimTime(e),(c=new Date(n)).setDate(n.getDate()+1),t.push({from:n,to:c})),t}),[])}function v(t){return t.map((function(t){return{from:t.from,to:t.to,gapSize:r.convertMillisecondsToDateUnits(t.to-t.from)}}))}e.generateDateBreaks=function(t,e,r,n,o){var u=c(r),a=s(t,e,u);return a.push.apply(a,D(t,e,o||[],u)),v(m(a,n||[]))}}

