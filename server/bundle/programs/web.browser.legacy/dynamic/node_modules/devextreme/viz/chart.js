function module(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=e("../core/utils/common").noop,s=e("../core/utils/extend").extend,r=e("../core/utils/array").inArray,o=e("../core/utils/iterator").each,u=e("../core/component_registrator"),l=e("./core/utils"),c=e("../core/utils/type"),h=e("../core/utils/math"),g=e("./chart_components/base_chart").overlapping,p=e("./chart_components/layout_manager"),f=e("./chart_components/multi_axes_synchronizer"),_=e("./chart_components/advanced_chart").AdvancedChart,d=e("./chart_components/scroll_bar"),v=e("./chart_components/crosshair"),m=e("./translators/range"),x="default",A=[{name:"default",border:{}}],R=l.map,b=o,C=Array.isArray,P=e("../core/utils/type").isDefined;function y(e,t,n){for(var i,a=0;a<e.length;a++)if(e[a].pane===t||void 0===e[a].pane&&t===n){i=e[a].name;break}return i||(i=e[0].name),i}function O(e,t,n){var i=e.getOptions().grid,a=e.getOptions().minorGrid;i.visible=t,a&&(a.visible=n)}function B(e){var t=!1,n=[],i=e.some((function(e){var t=e.getOptions().minorGrid;return t&&t.visible})),a=e.some((function(e){var t=e.getOptions().grid;return t&&t.visible}));e.length>1&&(e.forEach((function(e){var s=e.getOptions().grid;t?O(e,!1,!1):s&&s.visible&&(e.getTranslator().getBusinessRange().isEmpty()?(O(e,!1,!1),n.push(e)):(t=!0,O(e,a,i)))})),!t&&n.length&&O(n[0],a,i))}function V(e,t,n){var i,a;for(a=0;a<t.length;a++)if(t[a].name===n){(i=t[a]).priority=a;break}if(!i)for(a=0;a<e.length;a++)if(e[a].name===n){(i=e[a].getOptions()).priority=e[a].priority;break}return i}function E(e,t,n){var i,a;for(a=0;a<n.length;a++)if((i=n[a]).name===t&&i.pane===e)return i;if(e)return E(void 0,t,n)}function S(e,t){return e.priority-t.priority}function k(e,t){var n=!1;return b(e,(function(e,i){if(i.name===t)return n=!0,!1})),n}var w=function(e,t,n,i,a){var s=~~((n<i?n:i)/2),r=a.width||0,o=r<s?r:s,u,l=(e+=o/2)+(n-=o),c=(t+=o/2)+(i-=o),h=[],g=[],p=0,f=0,_={top:[[e,t],[l,t]],right:[[l,t],[l,c]],bottom:[[l,c],[e,c]],left:[[e,c],[e,t]]};switch(b(_,(function(e){var t=!!a[e];p=2*p+~~t})),p){case 13:case 9:u=["left","top","right","bottom"];break;case 11:u=["bottom","left","top","right"];break;default:u=["top","right","bottom","left"]}return b(u,(function(e,t){var n=!!a[t];!f&&g.length&&(h.push(g),g=[]),n&&b(_[t].slice(f),(function(e,t){g=g.concat(t)})),f=~~n})),g.length&&h.push(g),1===h.length&&(h=h[0]),{points:h,pathType:15===p?"area":"line"}};function M(e,t,n,i){var a=t[e]||0,s=n[e]||0;return a+s+(a&&s?i:0)}function L(e,t,n){return z(t[e],n[e])}function z(e,t){return Math.max(e||0,t||0)}function I(e){return e.getMargins()}function T(e,t){return e.reduce((function(e,n){var i=t(n),a=e.panes[n.pane]=e.panes[n.pane]||{},s=n.getMultipleAxesSpacing();return a.top=M("top",a,i,s),a.bottom=M("bottom",a,i,s),a.left=L("left",a,i),a.right=L("right",a,i),e.top=L("top",a,e),e.bottom=L("bottom",a,e),e.left=L("left",a,e),e.right=L("right",a,e),e}),{panes:{}})}function G(e){return e.reduce((function(e,t){var n=t.getMargins(),i=e.panes[t.pane]=e.panes[t.pane]||{},a=t.getMultipleAxesSpacing();return i.top=L("top",i,n),i.bottom=L("bottom",i,n),i.left=M("left",i,n,a),i.right=M("right",i,n,a),e.top=L("top",i,e),e.bottom=L("bottom",i,e),e.left=L("left",i,e),e.right=L("right",i,e),e}),{panes:{}})}function j(e,t,n,i){e.forEach((function(e){e[t](n&&n[e.pane],i&&i[e.pane]||i)}))}function N(e,t,n,i){function a(t,n,i){var a;return(-1===(e?["left","right"]:["top","bottom"]).indexOf(t)?n:n.panes[i]||{})[t]}function s(e,t,n,i){return z(a(e,t,i),a(e,n,i))}for(var r in t)t[r].top=t[r].originalTop+s("top",n,i,r),t[r].bottom=t[r].originalBottom+s("bottom",n,i,r),t[r].left=t[r].originalLeft+s("left",n,i,r),t[r].right=t[r].originalRight+s("right",n,i,r);return t}function U(e,t,n,i){t&&(j(e,"createTicks",n),f.synchronize(e)),j(e,"draw",!t&&n,i)}function D(e,t){var n={};return function(i){var a=n[i.pane]=n[i.pane]||{top:0,left:0,bottom:0,right:0},s=i.getMultipleAxesSpacing(),r=i.getMargins();i.shift(a),a[e]=M(e,a,r,s),a[t]=M(t,a,r,s)}}function F(e,t){var n,i,a=0;for(n in t.panes)i=t.panes[n],a+="height"===e?i.top+i.bottom:i.left+i.right;return a}function Z(e,t,n,i){var a=0;e[t]>0&&(a=F(t,i(n,I)),j(n,"hideTitle"),e[t]-=a-F(t,i(n,I))),e[t]>0&&j(n,"hideOuterElements")}function q(e,t){var n=t.reduce((function(e,t){return e+t.getPoints().length}),0)/t.length;return e.animate&&n<=e.animationPointsLimit}var H=_.inherit({_chartType:"chart",_setDeprecatedOptions:function(){this.callBase.apply(this,arguments),s(this._deprecatedOptions,{useAggregation:{since:"18.1",message:"Use the 'commonSeriesSettings.aggregation.enabled' or 'series.aggregation.enabled' option instead"},"argumentAxis.min":{since:"18.2",message:"Use the 'argumentAxis.visualRange' option instead"},"argumentAxis.max":{since:"18.2",message:"Use the 'argumentAxis.visualRange' option instead"},"valueAxis.min":{since:"18.2",message:"Use the 'valueAxis.visualRange' option instead"},"valueAxis.max":{since:"18.2",message:"Use the 'valueAxis.visualRange' option instead"},zoomingMode:{since:"18.2",message:"Use the 'zoomAndPan' option instead"},scrollingMode:{since:"18.2",message:"Use the 'zoomAndPan' option instead"}})},_partialOptionChangesMap:{visualRange:"VISUAL_RANGE",_customVisualRange:"VISUAL_RANGE",strips:"REFRESH_AXES",constantLines:"REFRESH_AXES"},_partialOptionChangesPath:{argumentAxis:["strips","constantLines","visualRange","_customVisualRange"],valueAxis:["strips","constantLines","visualRange","_customVisualRange"]},_initCore:function(){this.paneAxis={},this._panesClipRects={},this.callBase()},_disposeCore:function(){var e=this,t=this._disposeObjectsInArray,n=this._panesClipRects;this.callBase(),t.call(n,"fixed"),t.call(n,"base"),t.call(n,"wide"),this._panesClipRects=null},_correctAxes:function(){this._correctValueAxes(!0)},_getExtraOptions:a,_cleanPanesClipRects:function(e){var t=this,n=this._panesClipRects[e];b(n||[],(function(e,t){t&&t.dispose()})),this._panesClipRects[e]=[]},_createPanes:function(){var e,t=this,n=this.option("panes"),i=0;return(!n||C(n)&&!n.length)&&(n=A),this._cleanPanesClipRects("fixed"),this._cleanPanesClipRects("base"),this._cleanPanesClipRects("wide"),e=this.option("defaultPane"),n=s(!0,[],C(n)?n:[n]),b(n,(function(e,t){t.name=P(t.name)?t.name:"default"+i++})),P(e)?k(n,e)||(this._incidentOccurred("W2101",[e]),e=n[n.length-1].name):e=n[n.length-1].name,this.defaultPane=e,n=this._isRotated()?n.reverse():n},_getAxisRenderingOptions:function(){return{axisType:"xyAxes",drawingType:"linear"}},_prepareAxisOptions:function(e,t,n){return{isHorizontal:"argumentAxis"===e!==n,containerColor:this._themeManager.getOptions("containerBackgroundColor")}},_checkPaneName:function(e){var t=R(this.panes,(function(e){return e.name}));return e.pane=e.pane||this.defaultPane,-1!==r(e.pane,t)},_getValueAxis:function(e,t){var n,i,a=this,s=this._valueAxes,r=this.option("valueAxis")||{},o=C(r)?r:[r],u=this._isRotated(),l=this._getCrosshairMargins();return(i=E(e,t=t||y(s,e,this.defaultPane),s))||((n=V(s,o,t))||(this._incidentOccurred("W2102",[t]),n={name:t,priority:s.length}),(i=this._createAxis(!1,this._populateAxesOptions("valueAxis",n,{pane:e,name:t,optionPath:C(r)?"valueAxis["+n.priority+"]":"valueAxis",crosshairMargin:u?l.y:l.x},u))).applyVisualRangeSetter(this._getVisualRangeSetter()),s.push(i)),i.setPane(e),i},_correctValueAxes:function(e){var t=this,n=t._themeManager.getOptions("synchronizeMultiAxes"),i=t._valueAxes,a={};t.series.forEach((function(e){var t=e.getValueAxis();a[t.pane]=!0})),t.panes.forEach((function(s){var r=s.name;a[r]||t._getValueAxis(r),e&&n&&B(i.filter((function(e){return e.pane===r})))})),t._valueAxes=i.filter((function(e){return e.pane||e.setPane(t.defaultPane),k(t.panes,e.pane)})).sort(S);var s=this.getValueAxis();t._valueAxes.forEach((function(e){var n=e.getOptions().optionPath;if(n){var i=t._valueAxes.filter((function(e){return e.getOptions().optionPath===n}));i.length>1&&(i.some((function(e){return e===s}))?i.forEach((function(e){e!==s&&(e.getOptions().optionPath=null)})):i.forEach((function(e,t){0!==t&&(e.getOptions().optionPath=null)})))}}))},_getSeriesForPane:function(e){var t=[];return b(this.series,(function(n,i){i.pane===e&&t.push(i)})),t},_createPanesBorderOptions:function(){var e=this._themeManager.getOptions("commonPaneSettings").border,t={};return b(this.panes,(function(n,i){t[i.name]=s(!0,{},e,i.border)})),t},_createScrollBar:function(){var e=this,t=this._themeManager.getOptions("scrollBar")||{},n=this._scrollBarGroup;t.visible?(t.rotated=this._isRotated(),this._scrollBar=(this._scrollBar||new d.ScrollBar(this._renderer,n)).update(t)):(n.linkRemove(),this._scrollBar&&this._scrollBar.dispose(),this._scrollBar=null)},_prepareToRender:function(e){var t=this._createPanesBorderOptions();return this._createPanesBackground(),this._appendAxesGroups(),this._updatePanesCanvases(e),this._adjustViewport(),t},_adjustViewport:function(){var e=this,t=this._getVisibleSeries(),n=this.getArgumentAxis(),i=t.some((function(e){return e.useAggregation()})),a=this._themeManager.getOptions("adjustOnZoom"),s=!n.dataVisualRangeIsReduced();(i||a)&&this._valueAxes.forEach((function(e){return e.adjust(s)}))},_recreateSizeDependentObjects:function(e){var t=this,n=t._getVisibleSeries(),i=n.some((function(e){return e.useAggregation()})),a=t._isZooming();i&&(t._argumentAxes.forEach((function(e){e.updateCanvas(t._canvas)})),n.forEach((function(t){t.useAggregation()&&(e||a||!t._useAllAggregatedPoints)&&t.createPoints()})),t._processSeriesFamilies())},_isZooming:function(){var e=this,t=this.getArgumentAxis();if(!t||!t.getTranslator())return!1;var n=t.getTranslator().getBusinessRange(),i=t.getViewport(),a=i?i.min:0,s=i?i.max:0;"logarithmic"===n.axisType&&(a=l.getLog(a,n.base),s=l.getLog(s,n.base));var r="discrete"===n.axisType?l.getCategoriesInfo(n.categories,a,s).categories.length:Math.abs(s-a),o=h.getPrecision(r);o=o>1?Math.pow(10,o-2):1;var u=Math.round((this._zoomLength-r)*o)/o!=0;return this._zoomLength=r,u},_handleSeriesDataUpdated:function(){var e=this,t=new m.Range;e.series.forEach((function(e){t.addRange(e.getArgumentRange())})),e._argumentAxes.forEach((function(n){n.updateCanvas(e._canvas),n.setBusinessRange(t,e._axesReinitialized)})),e.callBase()},_isLegendInside:function(){return this._legend&&"inside"===this._legend.getPosition()},_isRotated:function(){return this._themeManager.getOptions("rotated")},_getLayoutTargets:function(){return this.panes},_applyClipRects:function(e){var t,n=this,i=this._getCanvasClipRectID();for(this._drawPanesBorders(e),this._createClipRectsForPanes(),t=0;t<this._argumentAxes.length;t++)this._argumentAxes[t].applyClipRects(this._getElementsClipRectID(this._argumentAxes[t].pane),i);for(t=0;t<this._valueAxes.length;t++)this._valueAxes[t].applyClipRects(this._getElementsClipRectID(this._valueAxes[t].pane),i);this._fillPanesBackground()},_updateLegendPosition:function(e,t){var n=this;if(e.drawLegend&&this._legend&&t){var i=this.panes,r=s({},i[0].canvas),o=new p.LayoutManager;r.right=i[i.length-1].canvas.right,r.bottom=i[i.length-1].canvas.bottom,o.setOptions({width:0,height:0}),o.layoutElements([this._legend],r,a,[{canvas:r}],void 0)}},_applyExtraSettings:function(e){var t=this,n=this._getPaneIndex(e.pane),i=this._panesClipRects,a=i.wide[n];e.setClippingParams(i.base[n].id,a&&a.id,this._getPaneBorderVisibility(n))},_updatePanesCanvases:function(e){e.recreateCanvas&&l.updatePanesCanvases(this.panes,this._canvas,this._isRotated())},_renderScaleBreaks:function(){this._valueAxes.concat(this._argumentAxes).forEach((function(e){e.drawScaleBreaks()}))},_renderAxes:function(e,t){var n=this,i=this._isRotated(),a=this._themeManager.getOptions("synchronizeMultiAxes"),r=(this._scrollBar?[this._scrollBar]:[]).concat(this._argumentAxes),o=i?r:this._valueAxes,u=i?this._valueAxes:r,l=o.concat(u);this._updatePanesCanvases(e);var c=this.panes.reduce((function(e,t){return e[t.name]=s({},t.canvas),e}),{}),h=s(!0,{},c);if(!e.adjustAxes)return U(o,!i&&a,c,t),U(u,i&&a,c,t),j(l,"prepareAnimation"),this._renderScaleBreaks(),!1;this._scrollBar&&this._scrollBar.setPane(this.panes);var g={panes:{}},p=T(u,(function(e){return e.estimateMargins(c[e.pane])}));return U(o,!i&&a,c=N(i,c,g,p),t),g=G(o),U(u,i&&a,c=N(i,c,g,p),t),p=T(u,I),j(l,"updateSize",c=N(i,c,g,p),q(e,this._getVisibleSeries())),u.forEach(D("top","bottom")),o.forEach(D("left","right")),this._renderScaleBreaks(),this.panes.forEach((function(e){s(e.canvas,c[e.name])})),this._valueAxes.forEach((function(e){e.setInitRange()})),h},_shrinkAxes:function(e,t){if(e&&t){this._renderer.stopAllAnimations(!0);var n=this,i=this._isRotated(),a=(this._scrollBar?[this._scrollBar]:[]).concat(this._argumentAxes),r=i?a:this._valueAxes,o=i?this._valueAxes:a,u=r.concat(o);(e.width||e.height)&&(Z(e,"height",o,T),Z(e,"width",r,G),j(u,"updateSize",t),j(u,"updateSize",t=N(i,t,G(r),T(o,I))),o.forEach(D("top","bottom")),r.forEach(D("left","right")),this.panes.forEach((function(e){s(e.canvas,t[e.name])})))}},_getPanesParameters:function(){var e,t=this,n=this.panes,i=[];for(e=0;e<n.length;e++)this._getPaneBorderVisibility(e)&&i.push({coords:n[e].borderCoords,clipRect:this._panesClipRects.fixed[e]});return i},_createCrosshairCursor:function(){var e=this,t=this._themeManager.getOptions("crosshair")||{},n=this.getArgumentAxis(),i=this._isRotated()?[this._valueAxes,[n]]:[[n],this._valueAxes],a={canvas:this._getCommonCanvas(),panes:this._getPanesParameters(),axes:i};t&&t.enabled&&(this._crosshair?this._crosshair.update(t,a):this._crosshair=new v.Crosshair(this._renderer,t,a,this._crosshairCursorGroup),this._crosshair.render())},_getCommonCanvas:function(){var e,t,n,i=this.panes;for(e=0;e<i.length;e++)t=i[e].canvas,n?(n.right=t.right,n.bottom=t.bottom):n=s({},t);return n},_createPanesBackground:function(){var e,t,n,i=this,a=this._themeManager.getOptions("commonPaneSettings").backgroundColor,s=this._renderer,r=[];for(this._panesBackgroundGroup.clear(),n=0;n<this.panes.length;n++)(e=this.panes[n].backgroundColor||a)&&"none"!==e?(t=s.rect(0,0,0,0).attr({fill:e,"stroke-width":0}).append(this._panesBackgroundGroup),r.push(t)):r.push(null);this.panesBackground=r},_fillPanesBackground:function(){var e,t=this;b(t.panes,(function(n,i){e=i.borderCoords,null!==t.panesBackground[n]&&t.panesBackground[n].attr({x:e.left,y:e.top,width:e.width,height:e.height})}))},_calcPaneBorderCoords:function(e){var t=e.canvas,n=e.borderCoords=e.borderCoords||{};n.left=t.left,n.top=t.top,n.right=t.width-t.right,n.bottom=t.height-t.bottom,n.width=Math.max(n.right-n.left,0),n.height=Math.max(n.bottom-n.top,0)},_drawPanesBorders:function(e){var t=this,n=t._isRotated();t._panesBorderGroup.linkRemove().clear(),b(t.panes,(function(i,a){var s,r,o=e[a.name],u={fill:"none",stroke:o.color,"stroke-opacity":o.opacity,"stroke-width":o.width,dashStyle:o.dashStyle,"stroke-linecap":"square"};t._calcPaneBorderCoords(a,n),o.visible&&(s=a.borderCoords,r=w(s.left,s.top,s.width,s.height,o),t._renderer.path(r.points,r.pathType).attr(u).append(t._panesBorderGroup))})),t._panesBorderGroup.linkAppend()},_createClipRect:function(e,t,n,i,a,s){var r=this,o=e[t];o?o.attr({x:n,y:i,width:a,height:s}):(o=this._renderer.clipRect(n,i,a,s),e[t]=o)},_createClipRectsForPanes:function(){var e=this,t=e._canvas;b(e.panes,(function(n,i){var a=!1,s=i.borderCoords,r=s.left,o=s.top,u=s.width,l=s.height,c=e._panesClipRects;e._createClipRect(c.fixed,n,r,o,u,l),e._createClipRect(c.base,n,r,o,u,l),b(e.series,(function(e,t){t.pane===i.name&&(t.isFinancialSeries()||t.areErrorBarsVisible())&&(a=!0)})),a?(e._isRotated()?(o=0,l=t.height):(r=0,u=t.width),e._createClipRect(c.wide,n,r,o,u,l)):c.wide[n]=null}))},_getPaneIndex:function(e){var t;return b(this.panes,(function(n,i){if(i.name===e)return t=n,!1})),t},_getPaneBorderVisibility:function(e){var t=this._themeManager.getOptions("commonPaneSettings").border.visible,n,i=(this.panes[e]||{}).border||{};return"visible"in i?i.visible:t},_getElementsClipRectID:function(e){return this._panesClipRects.fixed[this._getPaneIndex(e)].id},_getCanvasForPane:function(e){var t,n=this.panes,i=n.length;for(t=0;t<i;t++)if(n[t].name===e)return n[t].canvas},_getTrackerSettings:function(){var e=this,t=this._themeManager;return s(this.callBase(),{chart:this,zoomingMode:t.getOptions("zoomingMode"),scrollingMode:t.getOptions("scrollingMode"),rotated:this._isRotated(),crosshair:this._getCrosshairOptions().enabled?this._crosshair:null})},_resolveLabelOverlappingStack:function(){var e=this,t=e._isRotated(),n=t?function(e,t){return{x:e.x-t,y:e.y}}:function(e,t){return{x:e.x,y:e.y-t}};b(e._getStackPoints(),(function(i,a){b(a,(function(i,a){g.resolveLabelOverlappingInOneDirection(a,e._getCommonCanvas(),t,n,(function(e,n){var i=t?1:0,a,s;return e.labels[0].getFigureCenter()[i]-n.labels[0].getFigureCenter()[i]==0?(e.value()-n.value())*(e.labels[0].getPoint().series.getValueAxis().getTranslator().isInverted()?-1:1):0}))}))}))},_getStackPoints:function(){var e={},t=this._getVisibleSeries();return b(t,(function(t,n){var i=n.getPoints(),a=n.getStackName()||null;b(i,(function(t,n){var i=n.argument;e[i]||(e[i]={}),e[i][a]||(e[i][a]=[]),e[i][a].push(n)}))})),e},_getCrosshairOptions:function(){return this._getOption("crosshair")},_parseVisualRangeOption:function(e,t){var n=this,i=e.split(/[.[]/)[0],a=e.match(/\d+/g);e.indexOf("visualRange")>0?n._setCustomVisualRange("argumentAxis"===i,P(a)?parseInt(a[0]):a,t):("object"===c.type(t)||"array"===c.type(t))&&i.indexOf("Axis")>0&&JSON.stringify(t).indexOf("visualRange")>0&&(P(t.visualRange)?n._setCustomVisualRange("argumentAxis"===i,P(a)?parseInt(a[0]):a,t.visualRange):C(t)&&t.forEach((function(e,t){return n._setCustomVisualRange("argumentAxis"===i,t,e.visualRange)})))},_setCustomVisualRange:function(e,t,n){var i=this,a=e?"argumentAxis":"valueAxis",s=this._options[a];s&&(e||!P(t)?s._customVisualRange=n:s[t]._customVisualRange=n,this._axesReinitialized=!0)},zoomArgument:function(e,t){var n=this;this._initialized&&(P(e)||P(t))&&this.getArgumentAxis().visualRange([e,t])},resetVisualRange:function(){var e=this;e._argumentAxes.forEach((function(t){t.resetVisualRange(e.getArgumentAxis()!==t)})),e._valueAxes.forEach((function(e){return e.resetVisualRange(!1)})),e._requestChange(["VISUAL_RANGE"])},_getVisualRangeSetter:function(){var e=this;return function(t,n){if(t.getOptions().optionPath&&(e._parseVisualRangeOption(t.getOptions().optionPath+".visualRange",n),t.setCustomVisualRange(n)),t.isArgumentAxis){if(t!==e.getArgumentAxis())return;e._argumentAxes.filter((function(e){return e!==t})).forEach((function(e){return e.visualRange(n,{start:!0,end:!0})}))}e._applyingChanges?e._change_VISUAL_RANGE():e._requestChange(["VISUAL_RANGE"])}},getVisibleArgumentBounds:function(){var e,t=this._argumentAxes[0].getTranslator().getBusinessRange(),n="discrete"===t.axisType,i=t.categories;return{minVisible:n?t.minVisible||i[0]:t.minVisible,maxVisible:n?t.maxVisible||i[i.length-1]:t.maxVisible}},_change_VISUAL_RANGE:function(){var e=this;this._recreateSizeDependentObjects(!1),this._doRender({force:!0,drawTitle:!1,drawLegend:!1,adjustAxes:this.option("adjustAxesOnZoom")||!1,animate:!1}),this._argumentAxes.forEach((function(e){return e.handleZoomEnd()})),this._valueAxes.forEach((function(e){return e.handleZoomEnd()}))},_notifyOptionChanged:function(e,t,n){this.callBase.apply(this,arguments),this._optionChangedLocker||this._parseVisualRangeOption(e,t)},_setOptionsByReference:function(){this.callBase(),s(this._optionsByReference,{"argumentAxis.visualRange":!0,"valueAxis.visualRange":!0})},option:function e(){var e=this.callBase.apply(this,arguments);if("array"===c.type(this._options.valueAxis))for(var t=0;t<this._options.valueAxis.length;t++){var n="valueAxis["+t+"].visualRange";this._optionsByReference[n]=!0}return e},_optionChanged:function(e){var t=this;if(!t._optionChangedLocker)if(e.fullName.indexOf("visualRange")>0){var n=void 0;if(e.fullName&&(n=e.fullName.slice(0,e.fullName.indexOf("."))),"argumentAxis"===n){var a=e.fullName.split("."),s=a[a.length-1];return void("endValue"===s||"startValue"===s?t.getArgumentAxis().visualRange(i({},s,e.value)):t.getArgumentAxis().visualRange(e.value))}var r=t._valueAxes.filter((function(e){return e.getOptions().optionPath===n}))[0];r&&r.visualRange(e.value)}else t.getPartialChangeOptionsName(e).indexOf("visualRange")>-1&&("argumentAxis"===e.name?t.getArgumentAxis().visualRange(e.value.visualRange):"valueAxis"===e.name&&("object"===c.type(e.value)?t._valueAxes[0].visualRange(e.value.visualRange):e.value.forEach((function(n,i){P(n.visualRange)&&P(t._valueAxes[i])&&t._valueAxes[i].visualRange(e.value[i].visualRange)}))));t.callBase(e)},_notify:function(){var e=this;if(e.callBase(),!0!==e.option("disableTwoWayBinding")){var t=l.convertVisualRangeObject(this._argumentAxes[0].visualRange(),!C(e.option("argumentAxis.visualRange")));e.option("argumentAxis.visualRange",t),e._valueAxes.forEach((function(t){if(t.getOptions().optionPath){var n=t.getOptions().optionPath+".visualRange",i=l.convertVisualRangeObject(t.visualRange(),!C(e.option(n)));e.option(n,i)}}))}}});H.addPlugin(e("./chart_components/shutter_zoom")),H.addPlugin(e("./chart_components/zoom_and_pan")),u("dxChart",H),n.exports=H,n.exports.default=n.exports}

