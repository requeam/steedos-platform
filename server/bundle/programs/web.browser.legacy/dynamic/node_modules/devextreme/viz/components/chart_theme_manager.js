function module(e,t){"use strict";var i=e("../../core/utils/common").noop,o=e("../../core/utils/type"),n=e("../../core/utils/extend").extend,s=e("../core/base_theme_manager").BaseThemeManager,a=o.isString,l=o.isDefined,r=e("../core/utils").normalizeEnum,u="font",c="commonAxisSettings",m=["legend.font","title.font","title.subtitle.font","tooltip.font","loadingIndicator.font","export.font","commonSeriesSettings.label.font"],g=m.concat(["commonAxisSettings.label.font","commonAxisSettings.title.font"]),p,h={pie:m,chart:g.concat(["crosshair.label.font"]),polar:g},d=s.inherit((b=function(e){return a(e)?{text:e}:e},_=function(e){return e?((e=n(!0,{},e)).title=b(e.title),("logarithmic"===e.type&&e.logarithmBase<=0||e.logarithmBase&&!o.isNumeric(e.logarithmBase))&&(e.logarithmBase=void 0,e.logarithmBaseError=!0),e.label&&e.label.alignment&&(e.label.userAlignment=!0),e):{}},O=function(e,t,i){var o=this._theme,s=i^"valueAxis"===e?"verticalAxis":"horizontalAxis",a=_(t,e),r=_(this._userOptions.commonAxisSettings,e),u=n(!0,{},o.commonAxisSettings,o[s],o[e],r,a);return u.workWeek=a.workWeek||o[e].workWeek,u.forceUserTickInterval|=l(a.tickInterval)&&!l(a.axisDivisionFactor),u},A={base:S=function(e,t){t=t||this._userOptions[e];var i=this._theme[e],s=this._mergedSettings[e];return s||(s=o.isPlainObject(i)&&o.isPlainObject(t)?n(!0,{},i,t):l(t)?t:i,this._mergedSettings[e]=s,s)},argumentAxis:O,valueAxisRangeSelector:function(){return S.call(this,"valueAxis")},valueAxis:O,series:function(e,t,i){var o,s,a,l=this,u=l._theme,c=l._userOptions.commonSeriesSettings||{},m=u.commonSeriesSettings,g=l._themeSection.split(".").slice(-1)[0],p=r(t.type||c.type||m.type||"pie"===g&&u.type),h=l.palette,d=~p.indexOf("bar"),f=~p.indexOf("line"),x=~p.indexOf("area"),v="bubble"===p,b=l.getOptions("resolveLabelsOverlapping"),_=l.getOptions("containerBackgroundColor"),O=A.seriesTemplate.call(this);return(d||v)&&(a=(t=n(!0,{},c,c[p],t)).visible,c={type:{}},n(!0,t,t.point),t.visible=a),(o=n(!0,{aggregation:{}},m,m[p],c,c[p],t)).aggregation.enabled="chart"===g&&y(o.aggregation,l.getOptions("useAggregation")),o.type=p,o.widgetType=g,o.containerBackgroundColor=_,s="pie"!==g?o.color||h.getNextColor(i):function(e,t,i){var o=e+"-"+t;return l._multiPieColors[o]||(l._multiPieColors[o]=h.getNextColor(i)),l._multiPieColors[o]},o.mainSeriesColor=s,o.resolveLabelsOverlapping=b,o.label&&(f||x&&"rangearea"!==p||"scatter"===p)&&(o.label.position="outside"),O&&(o.nameField=O.nameField),o},animation:function(e){var t=this._userOptions[e];return t=o.isPlainObject(t)?t:l(t)?{enabled:!!t}:{},S.call(this,e,t)},seriesTemplate:function(){var e=S.call(this,"seriesTemplate");return e&&(e.nameField=e.nameField||"series"),e},zoomAndPan:function(){function e(e){var t="pan"===(e=r(e))||"both"===e,i="zoom"===e||"both"===e;return{pan:t,zoom:i,none:!t&&!i}}var t=this._userOptions.zoomAndPan;if(!l(t)){var i=r(this.getOptions("zoomingMode")),o=r(this.getOptions("scrollingMode")),n=-1!==["all","mouse","touch"].indexOf(i),s=-1!==["all","mouse","touch"].indexOf(o);t={argumentAxis:n&&s?"both":n?"zoom":s?"pan":"none",allowMouseWheel:"all"===i||"mouse"===i,allowTouchGestures:"all"===i||"touch"===i||"all"===o||"touch"===o}}var a=S.call(this,"zoomAndPan",t);return{valueAxis:e(a.valueAxis),argumentAxis:e(a.argumentAxis),dragToZoom:!!a.dragToZoom,dragBoxStyle:{class:"dxc-shutter",fill:a.dragBoxStyle.color,opacity:a.dragBoxStyle.opacity},panKey:a.panKey,allowMouseWheel:!!a.allowMouseWheel,allowTouchGestures:!!a.allowTouchGestures}}},y=function(e,t){return!!(l(e.enabled)?e.enabled:t)},{_themeSection:"chart",ctor:function(e,t){var o=this;o.callBase.apply(o,arguments),e=e||{},o._userOptions=e,o._mergeAxisTitleOptions=[],o._multiPieColors={},o._themeSection=t,o._fontFields=h[t],o._callback=i},dispose:function(){var e=this;return e.palette&&e.palette.dispose(),e.palette=e._userOptions=e._mergedSettings=e._multiPieColors=null,e.callBase.apply(e,arguments)},resetPalette:function(){this.palette.reset(),this._multiPieColors={}},getOptions:function(e){return(A[e]||A.base).apply(this,arguments)},refresh:function(){return this._mergedSettings={},this.callBase.apply(this,arguments)},_initializeTheme:function(){var e=this;e.callBase.apply(e,arguments),e.updatePalette()},resetOptions:function(e){this._mergedSettings[e]=null},update:function(e){this._userOptions=e},updatePalette:function(){var e=this;this.palette=this.createPalette(this.getOptions("palette"),{useHighlight:!0,extensionMode:this.getOptions("paletteExtensionMode")})}})),f,x,v,b,_,O,S,A,y;t.ThemeManager=d}

