function module(t,i){"use strict";var e={},s=t("../../components/consts").states,r=t("./symbol_point"),n=t("./bar_point"),a=t("./bubble_point"),o=t("./pie_point"),l=t("./range_symbol_point"),h=t("./range_bar_point"),u=t("./candlestick_point"),c=t("./stock_point"),p=t("./polar_point"),g=t("../../core/utils").normalizeEnum,d=t("../../../core/utils/extend").extend,_,f=t("../../../core/utils/iterator").each,b=d,m=t("../../../core/utils/type").isDefined,y=t("../../../core/utils/common").noop,v="symbolPoint",k="polarSymbolPoint",P="barPoint",V="polarBarPoint",w="piePoint",C=s.selectedMark,S=s.hoverMark,x=s.normalMark,D=s.hover,O=s.normal,L=s.selection,M={chart:{scatter:v,line:v,spline:v,stepline:v,stackedline:v,fullstackedline:v,stackedspline:v,fullstackedspline:v,stackedsplinearea:v,fullstackedsplinearea:v,area:v,splinearea:v,steparea:v,stackedarea:v,fullstackedarea:v,rangearea:"rangeSymbolPoint",bar:P,stackedbar:P,fullstackedbar:P,rangebar:"rangeBarPoint",bubble:"bubblePoint",stock:"stockPoint",candlestick:"candlestickPoint"},pie:{pie:w,doughnut:w,donut:w},polar:{scatter:"polarSymbolPoint",line:"polarSymbolPoint",area:"polarSymbolPoint",bar:"polarBarPoint",stackedbar:"polarBarPoint"}};function T(t){return"none"===g(t)}function B(t,i,e){this.fullState=x,this.series=t,this.update(i,e),this._viewCounters={hover:0,selection:0},this._emptySettings={fill:null,stroke:null,dashStyle:null}}i.Point=B,e.symbolPoint=r,e.barPoint=n,e.bubblePoint=a,e.piePoint=o,e.rangeSymbolPoint=l,e.rangeBarPoint=h,e.candlestickPoint=u,e.stockPoint=c,e.polarSymbolPoint=p.polarSymbolPoint,e.polarBarPoint=p.polarBarPoint,B.prototype={constructor:B,getColor:function(){return this.hasValue()||this._styles.usePointCustomOptions||this.series.customizePoint(this,this._dataItem),this._styles.normal.fill||this.series.getColor()},_getStyle:function(){return this._styles[this._currentStyle||"normal"]},update:function(t,i){this.updateOptions(i),this.updateData(t)},updateData:function(t){var i=this,e=this.argument!==t.argument;this.argument=this.initialArgument=this.originalArgument=t.argument,this.tag=t.tag,this.index=t.index,this._dataItem=t,this.data=t.data,this.lowError=t.lowError,this.highError=t.highError,this.aggregationInfo=t.aggregationInfo,this._updateData(t,e),!this.hasValue()&&this.setInvisibility(),this._fillStyle(),this._updateLabelData()},deleteMarker:function(){var t=this;this.graphic&&this.graphic.dispose(),this.graphic=null},draw:function(t,i,e,s){var r=this;return this._needDeletingOnDraw&&(this.deleteMarker(),this._needDeletingOnDraw=!1),this._needClearingOnDraw&&(this.clearMarker(),this._needClearingOnDraw=!1),this._hasGraphic()?this._updateMarker(e,this._getStyle(),i.markers):this.getMarkerVisibility()&&this._drawMarker(t,i.markers,e,s),this._drawLabel(),this._drawErrorBar(t,i.errorBars,e),this},_getViewStyle:function(){var t=x,i=this.fullState,e=[O,D,L,L];return this._viewCounters.hover&&(t|=S),this._viewCounters.selection&&(t|=C),T(this.getOptions().selectionMode)&&(i&=~C),T(this.getOptions().hoverMode)&&(i&=~S),e[t|=i]},applyView:function(t){var i=this._getViewStyle(),e=this;this._currentStyle=i,this.graphic&&("normal"===i?this.clearMarker():this.graphic.toForeground(),this._updateMarker(!0,this._styles[i],void 0,t))},setView:function(t){this._viewCounters[t]++,this.applyView()},resetView:function(t){var i=this._viewCounters;--i[t],i[t]<0&&(i[t]=0),this.applyView()},releaseHoverState:function(){var t=this;this.graphic&&!this.isSelected()&&this.graphic.toBackground()},select:function(){this.series.selectPoint(this)},clearSelection:function(){this.series.deselectPoint(this)},hover:function(){this.series.hoverPoint(this)},clearHover:function(){this.series.clearPointHover()},showTooltip:function(){this.series.showPointTooltip(this)},hideTooltip:function(){this.series.hidePointTooltip(this)},_checkLabelsChanging:function(t,i){var e=~i.indexOf("range"),s=~t.indexOf("range");return s&&!e||!s&&e},updateOptions:function(t){if(t){var i=this,s=this._options,r=t.widgetType,n=s&&s.type,a=t.type,o=M[r][a];n!==a?(this._needDeletingOnDraw=!0,this._needClearingOnDraw=!1,n&&(this._checkLabelsChanging(n,a)&&this.deleteLabel(),this._resetType(e[M[n]])),this._setType(e[o])):(this._needDeletingOnDraw=this._checkSymbol(s,t),this._needClearingOnDraw=this._checkCustomize(s,t)),this._options=t,this._fillStyle(),this._updateLabelOptions(o)}},translate:function(){this.hasValue()&&(this._translate(),this.translated=!0)},_checkCustomize:function(t,i){return t.styles.usePointCustomOptions&&!i.styles.usePointCustomOptions},_getCustomLabelVisibility:function(){return this._styles.useLabelCustomOptions?!!this._options.label.visible:null},getBoundingRect:function(){return this._getGraphicBBox()},_resetType:function(t){for(var i in t)delete this[i]},_setType:function(t){for(var i in t)this[i]=t[i]},isInVisibleArea:function(){return this.inVisibleArea},isSelected:function(){return!!(this.fullState&C)},isHovered:function(){return!!(this.fullState&S)},getOptions:function(){return this._options},animate:function(t,i,e){this.graphic?this.graphic.animate(i,{partitionDuration:e},t):t&&t()},getCoords:function(t){var i=this;return t?this._options.rotated?{x:this.minX-(this.x-this.minX?0:1),y:this.y}:{x:this.x,y:this.minY+(this.y-this.minY?0:1)}:{x:this.x,y:this.y}},getDefaultCoords:function(){var t=this;return this._options.rotated?{x:this.defaultX,y:this.y}:{x:this.x,y:this.defaultY}},setDefaultCoords:function(){var t=this.getDefaultCoords();this.x=t.x,this.y=t.y},_getVisibleArea:function(){return this.series.getVisibleArea()},_getArgTranslator:function(){return this.series.getArgumentAxis().getTranslator()},_getValTranslator:function(){return this.series.getValueAxis().getTranslator()},_calculateVisibility:function(t,i,e,s){var r=this,n=this._getVisibleArea(),a=this._options.rotated;n.minX>t+(e||0)||n.maxX<t||n.minY>i+(s||0)||n.maxY<i||a&&m(e)&&0!==e&&(n.minX===t+e||n.maxX===t)||!a&&m(s)&&0!==s&&(n.minY===i+s||n.maxY===i)?this.inVisibleArea=!1:this.inVisibleArea=!0},hasValue:function(){return null!==this.value&&null!==this.minValue},hasCoords:y,correctPosition:y,correctRadius:y,correctLabelRadius:y,getCrosshairData:y,getPointRadius:y,_populatePointShape:y,_checkSymbol:y,getMarkerCoords:y,hide:y,show:y,hideMarker:y,setInvisibility:y,clearVisibility:y,isVisible:y,resetCorrection:y,correctValue:y,resetValue:y,setPercentValue:y,correctCoordinates:y,coordsIn:y,getTooltipParams:y,setLabelEllipsis:y,setLabelTrackerData:y,updateLabelCoord:y,drawLabel:y,correctLabelPosition:y,getMinValue:y,getMaxValue:y,_drawErrorBar:y,getMarkerVisibility:y,dispose:function(){var t=this;this.deleteMarker(),this.deleteLabel(),this._errorBar&&this._errorBar.dispose(),this._options=this._styles=this.series=this._errorBar=null},getTooltipFormatObject:function(t){var i=this,e=this._getFormatObject(t),s=[],r=[];this.stackPoints&&(f(this.stackPoints,(function(i,e){if(e.isVisible()){var n=e._getFormatObject(t);r.push(n),s.push(n.seriesName+": "+n.valueText)}})),b(e,{points:r,valueText:s.join("\n"),stackName:this.stackPoints.stackName}));var n=this.aggregationInfo;if(n){var a,o=this.series.getArgumentAxis().formatRange(n.intervalStart,n.intervalEnd,n.aggregationInterval);o&&(e.valueText+="\n"+o)}return e},setHole:function(t,i){var e=this,s=isFinite(this.minValue)?this.minValue:0;m(t)&&("left"===i?(this.leftHole=this.value-t,this.minLeftHole=s-t):(this.rightHole=this.value-t,this.minRightHole=s-t))},resetHoles:function(){this.leftHole=null,this.minLeftHole=null,this.rightHole=null,this.minRightHole=null},getLabel:function(){return this._label},getLabels:function(){return[this._label]}}}

